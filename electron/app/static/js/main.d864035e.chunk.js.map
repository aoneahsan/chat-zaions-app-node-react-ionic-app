{"version":3,"sources":["assets/ring.mp3","assets/message.mp3","lib/socket.io-promise.js","features/Meeting/index.js","config.js","components/Picture.js","features/Group/Create/components/TopBar.js","actions/search.js","features/Group/Create/components/SearchBar.js","features/Group/Create/components/User.js","features/Group/Create/index.js","features/Group/Create2/components/TopBar.js","actions/uploadImage.js","actions/createGroup.js","actions/createRoom.js","constants/Actions.js","features/Group/Create2/index.js","actions/getMeetingRoom.js","features/Panel/components/TopBar.js","features/Panel/components/SearchBar.js","features/Panel/components/NavBar.js","features/Panel/components/MeetingBar.js","actions/postCall.js","actions/removeRoom.js","actions/getRooms.js","features/Panel/components/Room.js","features/Panel/components/Meeting.js","features/Panel/components/User.js","actions/getFavorites.js","actions/getMeetings.js","actions/changePicture.js","features/Panel/components/Settings.js","features/Panel/index.js","features/Details/components/Info.js","features/Details/components/Room.js","features/Details/components/TopBar.js","features/Details/index.js","actions/toggleFavorite.js","features/Conversation/components/TopBar.js","actions/message.js","actions/uploadFile.js","actions/typing.js","features/Conversation/components/BottomBar.js","actions/getRoom.js","features/Conversation/components/Message.js","actions/getMoreMessages.js","features/Conversation/components/Messages.js","features/Conversation/index.js","features/Meeting/components/Join.js","features/Meeting/components/User.js","actions/postAdd.js","features/Meeting/components/AddPeers.js","actions/postClose.js","actions/postAnswer.js","features/Meeting/components/Ringing.js","features/Meeting/components/Interface.js","features/Meeting/components/Streams.js","features/Meeting/components/LittleInterface.js","features/Meeting/components/LittleStreams.js","features/Welcome/components/TopBar.js","features/Welcome/components/BottomBar.js","features/Welcome/index.js","features/NotFound/components/TopBar.js","features/NotFound/components/BottomBar.js","features/NotFound/index.js","features/Admin/components/TopBar.js","features/Admin/components/BottomBar.js","features/Admin/components/Popup.js","actions/admin.js","features/Admin/index.js","pages/Home/index.js","pages/Login/components/Credits.js","pages/Login/components/Logo.js","pages/Login/components/Input.js","actions/login.js","actions/register.js","actions/setAuthToken.js","reducers/emoji.js","reducers/io.js","reducers/messages.js","reducers/rtc.js","reducers/index.js","store.js","actions/initIO.js","pages/Login/index.js","App.js","serviceWorker.js","init.js","index.js","assets/logo.png","assets/placeholder.jpg"],"names":["module","exports","promise","socket","type","data","Promise","resolve","emit","transport","videoProducer","screenProducer","audioProducer","demo","brand","appName","showCredits","url","Picture","user","group","picture","title","src","Config","shieldedID","alt","className","substr","toUpperCase","firstName","lastName","TopBar","setPanel","useGlobal","room","isGroup","onClick","search","text","limit","axios","method","SearchBar","searchInput","useRef","setSearchResults","nav","setNav","setSearch","current","focus","placeholder","ref","onChange","e","target","value","then","res","users","catch","err","console","log","User","selected","onSelect","useState","setHover","onMouseOver","onMouseOut","length","username","Panel","searchText","newGroupUsers","setNewGroupUsers","searchResults","error","setError","useEffect","id","searchResultsList","map","key","_id","includes","filter","u","Notice","preventDefault","hidden","upload","image","token","onProgress","crop","FormData","append","name","config","onUploadProgress","post","createGroup","createRoom","counterpart","Actions","IO_INIT","SET_MESSAGES","MORE_MESSAGES","MESSAGE","SET_ROOM","SET_ROOMS","ONLINE_USERS","SET_EMOJI","SET_TYPING","RTC_PRODUCER","RTC_PRODUCERS","RTC_RESET_PRODUCERS","RTC_LEAVE","RTC_ROOM_ID","RTC_CONSUMERS","RTC_NEW_PEER","RTC_CALL","RTC_CLOSE","RTC_ANSWER","RTC_SET_COUNTERPART","MESSAGES_ADD_ROOM_UNREAD","MESSAGES_REMOVE_ROOM_UNREAD","REFRESH_MEETINGS","useDispatch","fileInput","setTitle","groupPicture","setGroupPicture","history","useHistory","GroupPicture","useLocation","changePicture","a","create","people","replace","accept","files","style","marginTop","click","getMeetingRoom","onlineUsers","useSelector","state","io","setToken","setOver","setUser","setAudio","setVideo","setCallDirection","location","addToast","useToasts","logout","disconnect","localStorage","removeItem","appearance","autoDismiss","newMeeting","getStatus","status","level","pathname","startsWith","data-uk-dropdown","window","open","NavBar","MeetingBar","meeting","setShowPanel","postCall","roomID","meetingID","removeRoom","getRooms","Room","roomsWithNewMessages","messages","currentRoom","hover","setMeeting","dispatch","other","forEach","person","lastMessage","author","content","date","moment","format","time","popup","remove","confirm","rooms","isMobile","innerWidth","errorToast","call","callee","isVideo","startedAsCall","caller","callToGroup","undefined","r","Meetings","peers","lastLeave","fromNow","incoming","chat","getFavorites","getMeetings","imageID","Settings","change","newUser","setItem","JSON","stringify","favorites","setFavorites","meetings","setMeetings","callStatus","over","refreshMeetings","roomsList","favoritesList","meetingsList","Info","logo","imagesNumber","images","scrollContainer","scrollHeight","setScrollHeight","setOpen","viewMembers","setViewMembers","scrollTop","rows","row","message","push","sort","b","members","Members","tagLine","onScroll","offsetHeight","medium","large","hideDownload","onClose","back","Details","expand","endsWith","toggleFavorite","loading","favorite","Online","prevStatusRef","lastOnline","setLastOnline","valueOf","isFavorite","uploadFile","file","typing","isTyping","BottomBar","imageInput","emoji","sheet","setText","isPicker","showPicker","pictureRefs","addPictureRef","sendMessage","authorID","contentType","newMessage","Math","random","sendImages","tmpRefs","i","uploadImage","sendFiles","size","alert","fileID","native","darkMode","set","multiple","data-emoji-input","onKeyPress","event","onFocus","getRoom","Message","previous","next","onOpen","isMine","attachPrevious","attachNext","abs","diff","side","PictureOrSpacer","isOnlyEmoji","emojiRegex","Content","ReactImageAppear","animationDuration","href","download","round","dangerouslySetInnerHTML","__html","striptags","getMoreMessages","firstMessageID","Messages","setLoading","index","width","color","Conversation","useParams","response","Loading","NotFound","Error","Join","onJoin","isAudio","audio","setAudioStream","video","setVideoStream","localVideoRef","getAudio","navigator","mediaDevices","getUserMedia","stream","getVideo","srcObject","onLoadedMetadata","play","playsInline","checked","getTracks","track","stop","postAdd","userID","AddPeers","setSelected","warn","postClose","postAnswer","answer","Ringing","rtc","audioStream","videoStream","setAccepted","callData","acquireError","setAcquireError","closingState","closed","document","createElement","display","ringSound","autoplay","loop","pause","close","getVideoTracks","getAudioTracks","join","joinWithVideo","added","Interface","peer","isMaximized","isScreen","audioRef","videoRef","controls","data-user","objectFit","Streams","streams","children","isGrid","consumers","producers","socketID","mainStream","setMainStream","actualConsumers","c","actualPeers","consumerID","actualPeer","screen","s","p","producerID","mainPeer","ceil","sqrt","LittleStreams","el","scrollHorizontally","delta","max","min","wheelDelta","detail","scrollLeft","addEventListener","removeEventListener","videos","Meeting","device","setDevice","lastLeaveType","increment","setStreams","localStream","setLocalStream","setScreen","setScreenStream","setCallStatus","callDirection","joined","setJoined","setMaximized","setGrid","topBar","setTopBar","acccepted","showPanel","addPeers","setAddPeers","answerIncrement","answerData","init","getGlobal","getScreen","getDisplayMedia","produceAudio","useStream","params","produce","produceVideo","appData","produceScreen","stopScreen","request","stopVideo","stopAudio","routerRtpCapabilities","mediasoup","load","subscribe","forceTcp","rtpCapabilities","createSendTransport","on","callback","errback","dtlsParameters","kind","rtpParameters","transportId","newStreams","producer","consume","producerId","codecOptions","consumer","MediaStream","addTrack","createRecvTransport","background","flexGrow","zIndex","TopBarTransparent","minWidth","bottom","Welcome","Input","icon","required","data-uk-icon","setFirstName","setLastName","email","setEmail","setUsername","password","setPassword","repeatPassword","setRepeatPassword","errors","setErrors","okToast","createUser","updateUser","deleteUser","getTitle","onSubmit","marginBottom","Admin","setUsers","setPopup","columns","selector","sortable","cell","defaultSortField","pagination","paginationPerPage","shouldUpdate","Home","showDetails","panel","callIncrement","setGlobal","getPanel","exact","path","component","Copyright","Logo","login","register","setAuthToken","defaults","headers","common","initialState","reducer","action","timestamp","consumersTimestamp","isAfter","combineReducers","middleware","__REDUX_DEVTOOLS_EXTENSION__","compose","applyMiddleware","thunk","store","createStore","rootReducer","socketPromise","require","initIO","jwtDecode","IO","getState","messageSound","onended","body","appendChild","clearTimeout","typingTimeout","setTimeout","onbeforeunload","Login","keep","setKeep","loginErrors","setLoginErrors","registerUsername","setRegisterUsername","registerEmail","setRegisterEmail","registerFirstName","setRegisterFirstName","registerLastName","setRegisterLastName","registerPassword","setRegisterPassword","registerRepeatPassword","setRegisterRepeatPassword","registerErrors","setRegisterErrors","entryPath","setEntryPath","self","top","onLogin","generic","onRegister","loginInfo","Object","keys","registerInfo","data-uk-scrollspy","data-uk-toggle","rel","App","setStartingPoint","toHome","to","toLogin","theme","focusCount","interval","setInterval","hasFocus","clearInterval","loaded","decoded","splitPath","split","route","Boolean","hostname","match","getItem","clear","userString","parse","result","version","inCall","screenStream","UIkit","use","Icons","ReactDOM","render","StrictMode","autoDismissTimeout","placement","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d864035e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ring.131ca3e6.mp3\";","module.exports = __webpack_public_path__ + \"static/media/message.771482bc.mp3\";","// Adds support for Promise to socket.io-client\nexports.promise = function(socket) {\n  return function request(type, data = {}) {\n    return new Promise((resolve) => {\n      socket.emit(type, data, resolve);\n    });\n  }\n};\n","import React, {useEffect, useRef, useState} from 'react';\nimport \"./Meeting.sass\";\nimport {\n    FiMaximize,\n    FiMic,\n    FiMicOff,\n    FiMinimize,\n    FiPhoneOff,\n    FiVideo,\n    FiVideoOff,\n    FiUserPlus,\n    FiMonitor,\n    FiXOctagon,\n    FiGrid,\n    FiColumns,\n    FiMenu,\n    FiChevronLeft,\n    FiChevronUp,\n    FiChevronDown,\n} from \"react-icons/fi\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport * as mediasoup from \"mediasoup-client\";\nimport {useHistory, useParams} from \"react-router-dom\";\nimport Actions from \"../../constants/Actions\";\nimport {useGlobal, getGlobal, setGlobal} from 'reactn';\nimport Join from \"./components/Join\";\nimport AddPeers from \"./components/AddPeers\";\nimport Ringing from \"./components/Ringing\";\nimport Streams from \"./components/Streams\";\nimport {useToasts} from \"react-toast-notifications\";\nimport LittleStreams from \"./components/LittleStreams\";\nimport postClose from \"../../actions/postClose\";\n\nlet transport;\nlet videoProducer;\nlet screenProducer;\nlet audioProducer;\n\nconst Meeting = () => {\n    const [device, setDevice] = useState(null);\n    const io = useSelector(state => state.io.io);\n    const producers = useSelector(state => state.rtc.producers);\n    const lastLeave = useSelector(state => state.rtc.lastLeave);\n    const lastLeaveType = useSelector(state => state.rtc.lastLeaveType);\n    const increment = useSelector(state => state.rtc.increment);\n    const closingState = useSelector(state => state.rtc.closingState);\n    const closed = useSelector(state => state.rtc.closed);\n    const [streams, setStreams] = useGlobal('streams');\n    const [localStream, setLocalStream] = useGlobal('localStream');\n    const [video, setVideo] = useGlobal('video');\n    const [audio, setAudio] = useGlobal('audio');\n    const [isScreen, setScreen] = useGlobal('screen');\n    const [audioStream, setAudioStream] = useGlobal('audioStream');\n    const [videoStream, setVideoStream] = useGlobal('videoStream');\n    const [screenStream, setScreenStream] = useGlobal('screenStream');\n    const [callStatus, setCallStatus] = useGlobal('callStatus');\n    const callDirection = useGlobal('callDirection')[0];\n    const [joined, setJoined] = useGlobal('joined');\n    const [isMaximized, setMaximized] = useState(true);\n    const [isGrid, setGrid] = useState(true);\n    const [topBar, setTopBar] = useState(true);\n    const [screenSharing, setScreenSharing] = useGlobal('screensharing');\n    const [acccepted, setAccepted] = useGlobal('accepted');\n    const [showPanel, setShowPanel] = useGlobal('showPanel');\n    const [over, setOver] = useGlobal('over');\n    const [meeting, setMeeting] = useGlobal('meetingID');\n    const [addPeers, setAddPeers] = useState(false);\n    const counterpart = useSelector(state => state.rtc.counterpart) || {};\n\n    const answerIncrement = useSelector(state => state.rtc.answerIncrement);\n    const answerData = useSelector(state => state.rtc.answerData);\n\n    const params = useParams();\n    const roomID = params.id;\n\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const {addToast} = useToasts();\n\n    useEffect(() => {\n        if (!answerData) return;\n        if (callDirection === 'outgoing' && callStatus !== 'in-call' && answerData.meetingID === roomID) {\n            setJoined(true);\n            init();\n        }\n    }, [answerIncrement, answerData]);\n\n    useEffect(() => {\n        if (acccepted) {\n            setAccepted(false).then(() => {\n                setJoined(true);\n                init();\n            });\n        }\n    }, [acccepted]);\n\n    useEffect(() => {\n        setMeeting(roomID);\n        return () => {\n            if (getGlobal().callStatus !== 'in-call') {\n                try {\n                    if (getGlobal().audioStream) getGlobal().audioStream.getTracks().forEach(track => track.stop());\n                } catch (e) {}\n                try {\n                    if (getGlobal().videoStream) getGlobal().videoStream.getTracks().forEach(track => track.stop());\n                } catch (e) {}\n            }\n        }\n    }, []);\n\n    const getAudio = async () => {\n        const stream = await navigator.mediaDevices.getUserMedia({audio: true});\n        setAudioStream(stream)\n        return stream;\n    };\n    const getVideo = async () => {\n        const stream = navigator.mediaDevices.getUserMedia({video: true});\n        setVideoStream(stream)\n        return stream;\n    };\n    const getScreen = async () => {\n        const stream = await navigator.mediaDevices.getDisplayMedia({video: true});\n        setScreenStream(stream);\n        return stream;\n    }\n\n    const produceAudio = async stream => {\n        let useStream = stream || audioStream;\n        setAudio(true);\n        try {\n            const track = useStream.getAudioTracks()[0];\n            const params = {track};\n            audioProducer = await transport.produce(params);\n        } catch (err) {\n            console.log('getusermedia produce failed', err);\n            setAudio(false);\n        }\n    };\n\n    const produceVideo = async stream => {\n        let useStream = stream || videoStream;\n        setVideo(true);\n        try {\n            const track = useStream.getVideoTracks()[0];\n            const params = {track, appData: {isScreen: false}};\n            await setLocalStream(useStream);\n            videoProducer = await transport.produce(params);\n        } catch (err) {\n            console.log('getusermedia produce failed', err);\n            setVideo(false);\n        }\n    };\n\n    const produceScreen = async stream => {\n        try {\n            const track = stream.getVideoTracks()[0];\n            const params = {track, appData: {isScreen: true}};\n            await setLocalStream(stream);\n            screenProducer = await transport.produce(params);\n            await setScreen(true);\n        } catch (err) {\n            console.log('getusermedia produce failed', err);\n        }\n    };\n\n    const stopScreen = async () => {\n        try {\n            if (localStream) localStream.getVideoTracks()[0].stop();\n            await io.request('remove', {producerID: screenProducer.id, roomID});\n            screenProducer.close();\n            screenProducer = null;\n            await setScreen(false);\n        } catch (e) {\n            console.log(e);\n        }\n    };\n\n    const stopVideo = async () => {\n        try {\n            if (localStream) localStream.getVideoTracks()[0].stop();\n            await io.request('remove', {producerID: videoProducer.id, roomID});\n            videoProducer.close();\n            videoProducer = null;\n            await setVideo(false);\n        } catch (e) {\n            console.log(e);\n        }\n    };\n\n    const stopAudio = async () => {\n        try {\n            await io.request('remove', {producerID: audioProducer.id, roomID});\n            audioProducer.close();\n            audioProducer = null;\n            await setAudio(false);\n        } catch (e) {\n            console.log(e);\n        }\n    };\n\n    const init = async () => {\n        await setCallStatus('in-call');\n        await setShowPanel(false);\n        await setOver(true);\n\n        window.consumers = [];\n        await setStreams([]);\n\n        dispatch({type: Actions.RTC_ROOM_ID, roomID});\n\n        const {producers, consumers, peers} = await io.request('join', {roomID});\n\n        dispatch({type: Actions.RTC_CONSUMERS, consumers, peers});\n\n\n        const routerRtpCapabilities = await io.request('getRouterRtpCapabilities');\n        let device = new mediasoup.Device();\n        await device.load({routerRtpCapabilities});\n\n        setDevice(device);\n\n        await subscribe(device);\n\n        dispatch({type: Actions.RTC_PRODUCERS, producers: producers || []});\n\n        const data = await io.request('createProducerTransport', {\n            forceTcp: false,\n            rtpCapabilities: device.rtpCapabilities,\n            roomID,\n        });\n\n        if (data.error) {\n            console.error(data.error);\n            return;\n        }\n\n        transport = device.createSendTransport(data);\n        transport.on('connect', async ({dtlsParameters}, callback, errback) => {\n            io.request('connectProducerTransport', {dtlsParameters})\n                .then(callback)\n                .catch(errback);\n        });\n\n        transport.on('produce', async ({kind, rtpParameters, appData}, callback, errback) => {\n            try {\n                const {id} = await io.request('produce', {\n                    transportId: transport.id,\n                    kind,\n                    rtpParameters,\n                    roomID,\n                    isScreen: appData && appData.isScreen,\n                });\n                callback({id});\n            } catch (err) {\n                errback(err);\n            }\n        });\n\n        transport.on('connectionstatechange', (state) => {\n            switch (state) {\n                case 'connecting':\n                    break;\n\n                case 'connected':\n                    // document.querySelector('#local_video').srcObject = stream;\n                    break;\n\n                case 'failed':\n                    transport.close();\n                    break;\n\n                default:\n                    break;\n            }\n        });\n\n        await produceAudio();\n        await produceVideo();\n    };\n\n    useEffect(() => {\n        if (lastLeaveType === 'leave')\n            setStreams(getGlobal().streams.filter(s => s.socketID !== lastLeave));\n        else\n            setStreams(getGlobal().streams.filter(s => s.producerID !== lastLeave));\n    }, [lastLeave, lastLeaveType, setStreams, increment])\n\n    useEffect(() => {\n        const init = async () => {\n            !window.consumers && (window.consumers = []);\n            let newStreams = [];\n            for (let producer of producers) {\n                if (!window.consumers.includes(producer.producerID) && producer.roomID === roomID) {\n                    window.consumers.push(producer.producerID);\n\n                    const stream = await consume(window.transport, producer);\n\n                    stream.producerID = producer.producerID;\n                    stream.socketID = producer.socketID;\n                    stream.userID = producer.userID;\n\n                    newStreams.push(stream);\n\n                    io.request('resume', {producerID: producer.producerID, meetingID: roomID});\n                }\n            }\n            setStreams([...getGlobal().streams, ...newStreams]);\n        };\n        init();\n    }, [producers]);\n\n    const consume = async (transport, producer) => {\n        const {rtpCapabilities} = device;\n        const data = await io.request('consume', {\n            rtpCapabilities,\n            socketID: producer.socketID,\n            roomID,\n            producerID: producer.producerID\n        });\n        const {\n            producerId,\n            id,\n            kind,\n            rtpParameters,\n        } = data;\n\n        let codecOptions = {};\n        const consumer = await transport.consume({\n            id,\n            producerId,\n            kind,\n            rtpParameters,\n            codecOptions,\n        });\n        consumer.on(\"producerclose\", () => {\n            console.log(\"associated producer closed so consumer closed\");\n        });\n        consumer.on(\"close\", () => {\n            console.log(\"consumer closed\");\n        });\n        const stream = new MediaStream();\n        stream.addTrack(consumer.track);\n        stream.isVideo = kind === 'video';\n        return stream;\n    }\n\n    const subscribe = async (device, socketID) => {\n        const data = await io.request('createConsumerTransport', {\n            forceTcp: false,\n            roomID,\n            socketID: socketID,\n        });\n\n        if (data.error) {\n            console.error(data.error);\n            return;\n        }\n\n        const transport = device.createRecvTransport(data);\n        transport.on('connect', ({dtlsParameters}, callback, errback) => {\n            io.request('connectConsumerTransport', {\n                transportId: transport.id,\n                dtlsParameters,\n                socketID: socketID,\n            })\n                .then(callback)\n                .catch(errback);\n        });\n\n        transport.on('connectionstatechange', async (state) => {\n            switch (state) {\n                case 'connecting':\n                    break;\n\n                case 'connected':\n                    // document.querySelector('#remote_video').srcObject = await stream;\n                    for (let producer of producers) {\n                        await io.request('resume', {producerID: producer.producerID});\n                    }\n                    break;\n\n                case 'failed':\n                    transport.close();\n                    break;\n\n                default:\n                    break;\n            }\n        });\n\n        window.transport = transport;\n    };\n\n    const close = async () => {\n        try {\n            localStream.getVideoTracks()[0].stop();\n        }\n        catch (e) {}\n        await setStreams([]);\n        try {\n            transport.close();\n        } catch (e) {}\n        try {\n            await io.request('leave', {roomID});\n        } catch (e) {}\n        postClose({roomID, userID: counterpart._id})\n        history.replace('/');\n        await setJoined(false);\n        await setShowPanel(true);\n        await setCallStatus(null);\n        dispatch({type: Actions.RTC_LEAVE});\n        console.log('close action meeting')\n    };\n\n    useEffect(() => {\n        if (closingState && joined) close();\n    }, [closingState]);\n\n    if (callDirection === 'incoming' && !joined) {\n        return (\n            <div className=\"content uk-flex uk-flex-column uk-flex-center uk-flex-middle\" style={{background: 'black'}}>\n                <Ringing\n                    incoming={true}\n                    meetingID={roomID}\n                    onJoin={() => {\n                        setJoined(true);\n                        init();\n                    }}\n                />\n            </div>\n        );\n    }\n\n    if (callDirection === 'outgoing' && !joined) {\n        return (\n            <div className=\"content uk-flex uk-flex-column uk-flex-center uk-flex-middle\" style={{background: 'black'}}>\n                <Ringing incoming={false} meetingID={roomID}/>\n            </div>\n        );\n    }\n\n    if (!joined) {\n        return (\n            <div className=\"content uk-flex uk-flex-column uk-flex-center uk-flex-middle\" style={{background: 'black'}}>\n                <Join\n                    onJoin={() => {\n                        setJoined(true);\n                        init();\n                    }}\n                />\n            </div>\n        );\n    }\n\n    const notAvailable = name => {\n        addToast(`This feature is not available yet.`, {\n            appearance: 'warning',\n            autoDismiss: true,\n        })\n    };\n\n    const TopBar = ({localStream}) => {\n        const localVideoRef = useRef(null);\n\n        useEffect(() => {\n            if (!localStream) return;\n            localVideoRef.current.srcObject = localStream;\n        }, [localStream]);\n\n        return (\n            <div className=\"meeting-top-controls\">\n                <div className=\"panel-control\" onClick={() => {\n                    setShowPanel(!showPanel);\n                    setOver(showPanel);\n                }}>\n                    {showPanel ? <FiChevronLeft/> : <FiMenu/>}\n                </div>\n                <LittleStreams streams={streams} />\n                <div className=\"videos\" style={{flexGrow: 0}}>\n                    <video hidden={!video && !isScreen} className=\"video\" onLoadedMetadata={() => localVideoRef.current.play()} ref={localVideoRef} style={{objectFit: 'cover', background: 'black', zIndex: 1000}} playsInline />\n                </div>\n                <div className=\"panel-control\" onClick={() => setTopBar(!topBar)}>\n                    {topBar ? <FiChevronDown/> : <FiChevronUp/>}\n                </div>\n            </div>\n        );\n    };\n\n    const TopBarTransparent = ({localStream}) => {\n        const localVideoRef = useRef(null);\n\n        useEffect(() => {\n            if (!localVideoRef) return;\n            localVideoRef.current.srcObject = localStream;\n        }, [localVideoRef]);\n\n        return (\n            <div className=\"meeting-top-controls-transparent\">\n                <div className=\"panel-control\" onClick={() => {\n                    setShowPanel(!showPanel);\n                    setOver(showPanel);\n                }}>\n                    {showPanel ? <FiChevronLeft/> : <FiMenu/>}\n                </div>\n                <div className=\"videos\" style={{flexGrow: 0, minWidth: ((video || isScreen ? 137 : 0))}}>\n                    <video hidden={!video && !isScreen} className=\"video\" onLoadedMetadata={() => localVideoRef.current.play()} ref={localVideoRef} style={{objectFit: 'cover', background: 'black', zIndex: 1000}} playsInline />\n                </div>\n            </div>\n        );\n    };\n\n    return (\n        <div className=\"meeting-main uk-flex uk-flex-column\">\n            {isGrid && <TopBarTransparent localStream={localStream} />}\n            {!isGrid && topBar && <TopBar localStream={localStream} />}\n            <Streams isGrid={isGrid} streams={streams} localStream={localStream} isVideo={video} isScreen={isScreen} isMaximized={isMaximized}>\n                <div className=\"meeting-controls\" style={{bottom: topBar || isGrid ? 0 : 95}}>\n                    <div className=\"control\" onClick={() => video ? stopVideo() : getVideo().then(stream => produceVideo(stream))}>\n                        {video ? <FiVideo/> : <FiVideoOff/>}\n                    </div>\n                    <div className=\"control\" onClick={() => audio ? stopAudio() : getAudio().then(stream => produceAudio(stream))}>\n                        {audio ? <FiMic/> : <FiMicOff/>}\n                    </div>\n                    <div className=\"control\" onClick={() => isScreen ? stopScreen() : getScreen().then(stream => produceScreen(stream))}>\n                        {isScreen ? <FiXOctagon/> : <FiMonitor/>}\n                    </div>\n                    <div className=\"close\" onClick={close}>\n                        <FiPhoneOff/>\n                    </div>\n                    <div className=\"control\" onClick={() => setAddPeers(true)}>\n                        <FiUserPlus/>\n                    </div>\n                    <div className=\"control\" onClick={() => setMaximized(!isMaximized)}>\n                        {isMaximized ? <FiMaximize/> : <FiMinimize/>}\n                    </div>\n                    <div className=\"control\" onClick={() => setGrid(!isGrid)}>\n                        {isGrid ? <FiGrid/> : <FiColumns/>}\n                    </div>\n                </div>\n            </Streams>\n            {!isGrid && !topBar && <TopBar localStream={localStream} />}\n            {addPeers && <AddPeers onClose={() => setAddPeers(false)} />}\n        </div>\n    );\n}\n\nexport default Meeting;\n","export default {\n  demo: false,\n  brand: 'Zaions.com', // Footer brand\n  appName: 'Chat', // App Name\n  showCredits: true, // Show credits in login page\n  url: 'http://localhost:4000'\n  // url: 'https://chat-zaions-backend.herokuapp.com'\n}\n","import Config from \"../config\";\nimport React from \"react\";\n\nconst Picture = ({user = {}, group = false, picture, title = \"Group\"}) => {\n    if (group) {\n        if (picture)\n            return <img src={`${Config.url || ''}/api/images/${picture.shieldedID}/256`} alt=\"Picture\" className=\"picture\"/>;\n        else\n            return <div className=\"img\">{title.substr(0,1).toUpperCase()}</div>;\n    }\n\n    let firstName = user.firstName || \"User\";\n    let lastName = user.lastName || \"Name\";\n    if (user.picture)\n        return <img src={`${Config.url || ''}/api/images/${user.picture.shieldedID}/256`} alt=\"Picture\" className=\"picture\"/>;\n    else\n        return <div className=\"img\">{firstName.substr(0,1).toUpperCase()}{lastName.substr(0,1).toUpperCase()}</div>;\n};\n\nexport default Picture;\n","import React from 'react';\nimport \"./TopBar.sass\";\nimport {FiArrowLeft} from 'react-icons/fi';\nimport Picture from \"../../../../components/Picture\";\nimport {useGlobal} from \"reactn\";\n\nconst TopBar = () => {\n    const setPanel = useGlobal('panel')[1];\n    let room = {title: 'Group', isGroup: true};\n    const title = useGlobal('groupTitle')[0];\n\n    return (\n            <div className=\"top-bar-group uk-flex uk-flex-between uk-flex-middle\">\n                <div className=\"nav\">\n                    <div className=\"button\" onClick={() => setPanel('standard')}>\n                        <FiArrowLeft/>\n                    </div>\n                    <div className=\"profile conversation\">\n                        <Picture user={room} group={room.isGroup} picture={room.picture} title={room.title}/>\n                    </div>\n                    <div className=\"text\">\n                        <div className=\"title\">Create Group</div>\n                        <div className=\"message\">{title || 'Type a group name...'}</div>\n                    </div>\n                </div>\n            </div>\n    );\n}\n\nexport default TopBar;\n","import axios from \"axios\";\nimport Config from \"../config\";\n\nconst search = (text, limit) => {\n    return axios({\n        method: \"post\",\n        url: (Config.url || '') + \"/api/search\",\n        data: { limit: limit || 30, search: text || '' }\n    });\n};\n\nexport default search;\n","import React, {useRef} from 'react';\nimport \"./SearchBar.sass\";\nimport {FiSearch} from 'react-icons/fi';\nimport {useGlobal} from \"reactn\";\nimport search from \"../../../../actions/search\";\n\nconst SearchBar = () => {\n    const searchInput = useRef();\n    const setSearchResults = useGlobal('searchResults')[1];\n    const [nav, setNav] = useGlobal('nav');\n    const setSearch = useGlobal('search')[1];\n\n    const onChange = e => {\n        if (nav !== 'search') setNav('search');\n        setSearch(e.target.value);\n        search(e.target.value).then(res => setSearchResults(res.data.users)).catch(err => console.log(err));\n    };\n\n    return (\n        <div className=\"search-bar uk-flex uk-flex-center uk-flex-middle\">\n            <div className=\"icon\" onClick={() => searchInput.current.focus()}>\n                <FiSearch/>\n            </div>\n            <div className=\"uk-inline search\">\n                <input className=\"uk-input uk-border-pill\" placeholder=\"Search\" ref={searchInput} onChange={onChange}/>\n            </div>\n        </div>\n    );\n}\n\nexport default SearchBar;\n","import React, {useState} from 'react';\nimport \"./User.sass\";\nimport {FiPlusCircle, FiMinusCircle} from 'react-icons/fi';\nimport Picture from \"../../../../components/Picture\";\n\nconst User = ({user, selected, onSelect}) => {\n    const [hover, setHover] = useState(false);\n\n    const title = `${user.firstName} ${user.lastName}`.substr(0, 22);\n\n    return (\n        <div className=\"room uk-flex\" onMouseOver={() => setHover(true)} onMouseOut={() => setHover(false)} onClick={onSelect}>\n            <div className=\"profile\">\n                <Picture user={user} />\n            </div>\n            <div className=\"text\">\n                <div className=\"title\">{title}{title.length > 22 && '...'}</div>\n            </div>\n            <div className=\"controls\">\n                <div className={`date${selected ? ' selected' : ''}`}>@{user.username}</div>\n            </div>\n            <div className=\"controls\">\n                <div className={`button${selected ? ' selected' : ''}`}>\n                    {selected ? <FiMinusCircle/> : <FiPlusCircle/>}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default User;\n","import React, {useEffect, useState} from 'react';\nimport {useGlobal} from \"reactn\";\nimport \"./Create.sass\";\nimport TopBar from \"./components/TopBar\";\nimport SearchBar from \"./components/SearchBar\";\nimport User from \"./components/User\";\nimport search from \"../../../actions/search\";\n\nconst Panel = () => {\n    const [panel, setPanel] = useGlobal('panel');\n    const user = useGlobal('user')[0];\n    const searchText = useGlobal('search')[0];\n    const [newGroupUsers, setNewGroupUsers] = useGlobal('newGroupUsers');\n    const [searchResults, setSearchResults] = useGlobal('searchResults');\n    const [error, setError] = useState(false);\n\n    useEffect(() => {\n        search().then(res => setSearchResults(res.data.users)).catch(err => console.log(err));\n    }, [setSearchResults]);\n\n    useEffect(() => {\n        setNewGroupUsers([user.id]);\n    }, [user]);\n\n    const onSelect = id => {\n        if (newGroupUsers.includes(id)) {\n            setNewGroupUsers(newGroupUsers.filter(u => u !== id));\n        }\n        else {\n            setError(false);\n            setNewGroupUsers([...newGroupUsers, id])\n        }\n    };\n\n    const searchResultsList = searchResults.map(user => (\n            <User key={user._id} user={user} selected={newGroupUsers.includes(user._id)} onSelect={() => onSelect(user._id)} />\n        )\n    );\n\n    const Notice = ({text}) => <div className=\"notice\">{text}</div>\n\n    const createGroup = e => {\n        e.preventDefault();\n        if (newGroupUsers.length > 1) setPanel('createGroup2');\n        else setError(true);\n    }\n\n    return (\n        <div className=\"group-create\">\n            <TopBar/>\n            <SearchBar/>\n            <button className=\"uk-margin-remove uk-button uk-button-large uk-button-primary create-button\" onClick={createGroup}>Select Users</button>\n            <div className=\"selection-text error\" hidden={newGroupUsers.length <= 1 || !error}>\n                You must select some people!\n            </div>\n            <div className=\"selection-text\" hidden={newGroupUsers.length <= 1}>\n                {newGroupUsers.length - 1} selected - <a onClick={() => setNewGroupUsers([user.id])}>Clear</a>\n            </div>\n            <div className=\"rooms\">\n                {searchResultsList}\n                {searchResults.length === 0 && <Notice text={`There are no users available for \"${searchText}\"`} />}\n            </div>\n        </div>\n    );\n}\n\nexport default Panel;\n","import React from 'react';\nimport \"./TopBar.sass\";\nimport {FiArrowLeft} from 'react-icons/fi';\nimport Picture from \"../../../../components/Picture\";\nimport {useGlobal} from \"reactn\";\n\nconst TopBar = () => {\n    const setPanel = useGlobal('panel')[1];\n    const title = useGlobal('groupTitle')[0];\n    let room = {title: 'Group', isGroup: true};\n\n    return (\n            <div className=\"top-bar-group uk-flex uk-flex-between uk-flex-middle\">\n                <div className=\"nav\">\n                    <div className=\"button\" onClick={() => setPanel('createGroup')}>\n                        <FiArrowLeft/>\n                    </div>\n                    <div className=\"profile conversation\">\n                        <Picture user={room} group={room.isGroup} picture={room.picture} title={room.title}/>\n                    </div>\n                    <div className=\"text\">\n                        <div className=\"title\">Create Group</div>\n                        <div className=\"message\">{title || 'Type a group name...'}</div>\n                    </div>\n                </div>\n            </div>\n    );\n}\n\nexport default TopBar;\n","import Config from \"../config\";\nimport axios from 'axios'\n\nconst upload = (image, token, onProgress = () => {}, crop) => {\n    const url = (Config.url || '') + '/api/upload';\n\n    const data = new FormData();\n\n    data.append('image', image, image.name);\n    data.append('crop', crop);\n\n    const config = {\n        onUploadProgress: onProgress,\n    };\n\n    return axios.post(url, data, config);\n};\n\nexport default upload;\n","import axios from \"axios\";\nimport Config from \"../config\";\n\nconst createGroup = data => {\n    return axios({\n        method: \"post\",\n        url: (Config.url || '') + \"/api/group/create\",\n        data\n    });\n};\n\nexport default createGroup;\n","import axios from \"axios\";\nimport Config from \"../config\";\n\nconst createRoom = counterpart => {\n    return axios({\n        method: \"post\",\n        url: (Config.url || '') + \"/api/room/create\",\n        data: { counterpart }\n    });\n};\n\nexport default createRoom;\n","const Actions = {\n    IO_INIT: 'IO_INIT',\n    SET_MESSAGES: 'SET_MESSAGES',\n    MORE_MESSAGES: 'MORE_MESSAGES',\n    MESSAGE: 'MESSAGE',\n    SET_ROOM: 'SET_ROOM',\n    SET_ROOMS: 'SET_ROOMS',\n    ONLINE_USERS: 'ONLINE_USERS',\n\n    SET_EMOJI: 'SET_EMOJIS',\n    SET_TYPING: 'SET_TYPING',\n\n    RTC_PRODUCER: 'RTC_PRODUCER',\n    RTC_PRODUCERS: 'RTC_PRODUCERS',\n    RTC_RESET_PRODUCERS: 'RTC_RESET_PRODUCERS',\n    RTC_LEAVE: 'RTC_LEAVE',\n    RTC_ROOM_ID: 'RTC_ROOM_ID',\n    RTC_CONSUMERS: 'RTC_CONSUMERS',\n    RTC_NEW_PEER: 'RTC_NEW_PEER',\n    RTC_CALL: 'RTC_CALL',\n    RTC_CLOSE: 'RTC_CLOSE',\n    RTC_ANSWER: 'RTC_ANSWER',\n    RTC_SET_COUNTERPART: 'RTC_SET_COUNTERPART',\n\n    MESSAGES_ADD_ROOM_UNREAD: 'MESSAGES_ADD_ROOM_UNREAD',\n    MESSAGES_REMOVE_ROOM_UNREAD: 'MESSAGES_REMOVE_ROOM_UNREAD',\n\n    REFRESH_MEETINGS: 'REFRESH_MEETINGS',\n};\n\nexport default Actions;\n","import React, {useRef, useState} from 'react';\nimport {useGlobal} from \"reactn\";\nimport \"./Create.sass\";\nimport TopBar from \"./components/TopBar\";\nimport search from \"../../../actions/search\";\nimport Config from \"../../../config\";\nimport {FiEdit2} from \"react-icons/all\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport upload from \"../../../actions/uploadImage\";\nimport createGroup from \"../../../actions/createGroup\";\nimport createRoom from \"../../../actions/createRoom\";\nimport Actions from \"../../../constants/Actions\";\nimport {useHistory, useLocation} from \"react-router-dom\";\n\nconst Panel = () => {\n    const dispatch = useDispatch();\n    const setPanel = useGlobal('panel')[1];\n    const searchText = useGlobal('search')[0];\n    const [newGroupUsers, setNewGroupUsers] = useGlobal('newGroupUsers');\n    const [searchResults, setSearchResults] = useGlobal('searchResults');\n    const fileInput = useRef(null);\n    const [title, setTitle] = useGlobal('groupTitle');\n    const [error, setError] = useState(false);\n    const [groupPicture, setGroupPicture] = useGlobal('groupPicture');\n\n    const history = useHistory();\n    const location = useLocation();\n\n    const GroupPicture = ({picture}) => {\n        if (picture)\n            return <img src={`${Config.url || ''}/api/images/${picture.shieldedID}/256`} alt=\"Picture\" className=\"picture\"/>;\n        else\n            return <div className=\"img\">{(title && title.length > 0) ? title.substr(0, 1) : 'G'}</div>;\n    };\n\n    const changePicture = async image => {\n        const picture = await upload(image, null, () => {}, 'square');\n        setGroupPicture(picture.data.image);\n    };\n\n    const create = async e => {\n        e.preventDefault();\n        if (!title || title.length === 0) return setError(true);\n        setError(null);\n        const res = await createGroup({people: newGroupUsers, picture: groupPicture, title});\n        const room = res.data;\n        setPanel('standard');\n        const target = `/room/${room._id}`;\n        history.replace(target);\n    }\n\n    return (\n        <div className=\"group-create\">\n            <TopBar/>\n            <button className=\"uk-button uk-button-large uk-button-primary create-button\" onClick={create}>Create Group</button>\n            <div className=\"selection-text error\" hidden={!error}>\n                Group name required!\n            </div>\n            <input\n                className=\"file-input\"\n                type=\"file\"\n                ref={fileInput}\n                accept=\"image/*\"\n                onChange={e => changePicture(e.target.files[0])}\n            />\n            <div style={{marginTop: 15}} className=\"picture\" onClick={() => fileInput && fileInput.current && fileInput.current.click()}>\n                <GroupPicture picture={groupPicture} />\n                <div className=\"overlay\">\n                    <div className=\"text\"><FiEdit2/></div>\n                </div>\n            </div>\n            <input className=\"group-name\" type=\"text\" placeholder=\"Group name...\" value={title} onChange={e => setTitle(e.target.value)} />\n        </div>\n    );\n}\n\nexport default Panel;\n","import axios from \"axios\";\nimport Config from \"../config\";\n\nconst getMeetingRoom = data => {\n    return axios({\n        method: \"post\",\n        url: (Config.url || '') + \"/api/meeting/get\",\n        data: data\n    });\n};\n\nexport default getMeetingRoom;\n","import React from 'react';\nimport \"./TopBar.sass\";\nimport {FiMoreHorizontal, FiExternalLink, FiSettings, FiHome, FiPlusCircle, FiCpu} from 'react-icons/fi';\nimport Picture from \"../../../components/Picture\";\nimport {useGlobal} from \"reactn\";\nimport {useHistory, useLocation} from \"react-router-dom\";\nimport { useToasts } from 'react-toast-notifications';\nimport getMeetingRoom from \"../../../actions/getMeetingRoom\";\nimport {useSelector} from \"react-redux\";\nimport Config from \"../../../config\";\n\nconst TopBar = () => {\n    const onlineUsers = useSelector(state => state.io.onlineUsers);\n    const io = useSelector(state => state.io.io);\n    const [nav, setNav] = useGlobal('nav');\n    const setToken = useGlobal('token')[1];\n    const setPanel = useGlobal('panel')[1];\n    const setOver = useGlobal('over')[1];\n    const [user, setUser] = useGlobal('user');\n    const setAudio = useGlobal('audio')[1];\n    const setVideo = useGlobal('video')[1];\n    const setCallDirection = useGlobal('callDirection')[1];\n\n    const aoneahsan = () => window.open(\"http://aoneahsan.website\", \"_blank\");\n    const zaionsSite = () => window.open(\"http://zaions.com\", \"_blank\");\n\n    const history = useHistory();\n    const location = useLocation();\n    const { addToast } = useToasts();\n\n    const logout = async () => {\n        io.disconnect();\n        const username = user.username;\n        localStorage.removeItem('token');\n        await setToken(null);\n        await setUser({});\n        addToast(`User ${username} logged out!`, {\n            appearance: 'success',\n            autoDismiss: true,\n        })\n        history.replace(\"/login\");\n    };\n\n    const errorToast = content => {\n        addToast(content, {\n            appearance: 'error',\n            autoDismiss: true,\n        })\n    };\n\n    const newMeeting = async () => {\n        await setAudio(true);\n        await setVideo(true);\n        await setCallDirection('meeting');\n        try {\n            const res = await getMeetingRoom();\n            history.replace('/meeting/' + res.data._id);\n        }\n        catch (e) {\n            errorToast('Server error. Unable to initiate call.');\n        }\n    };\n\n    const getStatus = () => {\n        if (onlineUsers.filter(u => u.id === user.id && u.status === 'busy').length > 0) return 'busy';\n        if (onlineUsers.filter(u => u.id === user.id && u.status === 'online').length > 0) return 'online';\n        if (onlineUsers.filter(u => u.id === user.id && u.status === 'away').length > 0) return 'away';\n        return null;\n    };\n\n    return (\n            <div className=\"top-bar uk-flex uk-flex-between uk-flex-middle\">\n                <div className=\"uk-flex uk-flex-middle\">\n                    <div className=\"profile\" onClick={() => {\n                        setOver(true);\n                        setNav('rooms');\n                        history.replace('/');\n                    }}>\n                        <Picture user={user || {}} />\n                    </div>\n                    {getStatus() && <div className={`dot ${getStatus()}`} />}\n                </div>\n                <div className=\"nav\">\n                    {(user.level === 'root' || user.level === 'admin') &&\n                        <div className={`button${location.pathname.startsWith('/admin') ? ' active' : ''}`} onClick={() => {\n                            setOver(true);\n                            history.replace('/admin');\n                        }}>\n                            <FiCpu/>\n                        </div>\n                    }\n                    <div className=\"button mobile\" onClick={() => {\n                        setOver(true);\n                        history.replace('/');\n                    }}>\n                        <FiHome/>\n                    </div>\n                    <div className=\"button\" onClick={() => setPanel('createGroup')}>\n                        <FiPlusCircle/>\n                    </div>\n                    <div className={`button${nav === 'settings' ? ' active' : ''}`} onClick={() => {\n                        setNav('settings');\n                    }}>\n                        <FiSettings/>\n                    </div>\n                    <div className=\"uk-inline\">\n                        <div className=\"button\" type=\"button\">\n                            <FiMoreHorizontal/>\n                        </div>\n                        <div data-uk-dropdown=\"mode: click; offset: 5; boundary: .top-bar\">\n                            <div className=\"link\" onClick={() => newMeeting()}>New Meeting</div>\n                            <div className=\"link\" onClick={() => setPanel('createGroup')}>New Group</div>\n                            {Config.demo && <div className=\"divider\"/>}\n                            {Config.demo && <div className=\"link\" onClick={aoneahsan}>Aoneahsan.website <div className=\"icon\"><FiExternalLink/></div></div>}\n                            {Config.demo && <div className=\"link\" onClick={zaionsSite}>Zaions.com <div className=\"icon\"><FiExternalLink/></div></div>}\n                            {(user.level === 'root' || user.level === 'admin') && <div className=\"divider\"/>}\n                            {(user.level === 'root' || user.level === 'admin') && <div className=\"link\" onClick={() => {\n                                setOver(true);\n                                history.replace('/admin');\n                            }}>Admin Panel</div>}\n                            <div className=\"divider\"/>\n                            <div className=\"link\" onClick={logout}>Logout</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n    );\n}\n\nexport default TopBar;\n","import React, {useRef} from 'react';\nimport \"./SearchBar.sass\";\nimport {FiSearch} from 'react-icons/fi';\nimport {useGlobal} from \"reactn\";\nimport search from \"../../../actions/search\";\n\nconst SearchBar = () => {\n    const searchInput = useRef();\n    const setSearchResults = useGlobal('searchResults')[1];\n    const [nav, setNav] = useGlobal('nav');\n    const setSearch = useGlobal('search')[1];\n\n    const onChange = e => {\n        if (nav !== 'search') setNav('search');\n        setSearch(e.target.value);\n        search(e.target.value).then(res => setSearchResults(res.data.users)).catch(err => console.log(err));\n    };\n\n    return (\n        <div className=\"search-bar uk-flex uk-flex-center uk-flex-middle\">\n            <div className=\"icon\" onClick={() => searchInput.current.focus()}>\n                <FiSearch/>\n            </div>\n            <div className=\"uk-inline search\">\n                <input className=\"uk-input uk-border-pill\" placeholder=\"Search\" ref={searchInput} onChange={onChange}/>\n            </div>\n        </div>\n    );\n}\n\nexport default SearchBar;\n","import React from 'react';\nimport {useGlobal} from \"reactn\";\nimport \"./NavBar.sass\";\nimport {FiCalendar, FiMessageCircle, FiStar, FiUsers, FiSearch} from 'react-icons/fi';\n\nconst NavBar = () => {\n    const [nav, setNav] = useGlobal('nav');\n\n    return (\n        <div className=\"nav-bar uk-flex\">\n            <div className={`item${nav === 'rooms' ? ' active' : ''}`} onClick={() => setNav('rooms')}>\n                <div className=\"icon\">\n                    <FiMessageCircle/>\n                </div>\n                <div className=\"text\">Rooms</div>\n            </div>\n            <div className={`item${nav === 'search' ? ' active' : ''}`} onClick={() => setNav('search')}>\n                <div className=\"icon\">\n                    <FiSearch/>\n                </div>\n                <div className=\"text\">Search</div>\n            </div>\n            <div className={`item${nav === 'favorites' ? ' active' : ''}`} onClick={() => setNav('favorites')}>\n                <div className=\"icon\">\n                    <FiStar/>\n                </div>\n                <div className=\"text\">Favorites</div>\n            </div>\n            <div className={`item${nav === 'meetings' ? ' active' : ''}`} onClick={() => {\n                setNav('meetings');\n            }}>\n                <div className=\"icon\">\n                    <FiUsers/>\n                </div>\n                <div className=\"text\">Meetings</div>\n            </div>\n        </div>\n    );\n}\n\nexport default NavBar;\n","import React from 'react';\nimport {useGlobal} from \"reactn\";\nimport \"./MeetingBar.sass\";\nimport {useHistory} from \"react-router-dom\";\n\nconst MeetingBar = () => {\n    const [meeting, setMeeting] = useGlobal('meetingID');\n    const [over, setOver] = useGlobal('over');\n    const [showPanel, setShowPanel] = useGlobal('showPanel');\n\n    const history = useHistory();\n\n    return (\n        <div className=\"meeting-bar uk-flex uk-flex-center uk-flex-middle\" onClick={() => {\n            setShowPanel(false);\n            setOver(true);\n            history.replace('/meeting/' + meeting);\n        }}>\n            Go back to the meeting\n        </div>\n    );\n}\n\nexport default MeetingBar;\n","import axios from \"axios\";\nimport Config from \"../config\";\n\nconst postCall = ({roomID, meetingID}) => {\n    return axios({\n        method: \"post\",\n        url: (Config.url || '') + \"/api/meeting/call\",\n        data: { roomID, meetingID }\n    });\n};\n\nexport default postCall;\n","import axios from \"axios\";\nimport Config from \"../config\";\n\nconst removeRoom = id => {\n    return axios({\n        method: \"post\",\n        url: (Config.url || '') + \"/api/room/remove\",\n        data: { id }\n    });\n};\n\nexport default removeRoom;\n","import axios from \"axios\";\nimport Config from \"../config\";\n\nconst getRooms = () => {\n    return axios({\n        method: \"post\",\n        url: (Config.url || '') + \"/api/rooms/list\",\n        data: { limit: 30 }\n    });\n};\n\nexport default getRooms;\n","import React, {useState} from 'react';\nimport \"./Room.sass\";\nimport {useGlobal} from \"reactn\";\nimport {FiPhone, FiMoreHorizontal} from 'react-icons/fi';\nimport Picture from \"../../../components/Picture\";\nimport moment from \"moment\";\nimport {useHistory, useLocation} from \"react-router-dom\";\nimport {useToasts} from \"react-toast-notifications\";\nimport getMeetingRoom from \"../../../actions/getMeetingRoom\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport postCall from \"../../../actions/postCall\";\nimport Actions from \"../../../constants/Actions\";\nimport removeRoom from \"../../../actions/removeRoom\";\nimport getRooms from \"../../../actions/getRooms\";\n\nconst Room = ({room}) => {\n    const roomsWithNewMessages = useSelector(state => state.messages.roomsWithNewMessages);\n    const onlineUsers = useSelector(state => state.io.onlineUsers);\n    const currentRoom = useSelector(state => state.io.room);\n    const [hover, setHover] = useState(false);\n    const user = useGlobal('user')[0];\n    const setAudio = useGlobal('audio')[1];\n    const setVideo = useGlobal('video')[1];\n    const setCallDirection = useGlobal('callDirection')[1];\n    const setMeeting = useGlobal('meeting')[1];\n\n    const history = useHistory();\n    const location = useLocation();\n    const dispatch = useDispatch();\n    const { addToast } = useToasts();\n\n    let other = {};\n\n    room.people.forEach(person => {\n        if (user.id !== person._id) other = person;\n    });\n\n    if (!other.firstName) {\n        other = { ...other, firstName: 'Deleted', lastName: 'User' };\n    }\n\n    const title = (room.isGroup ? room.title : `${other.firstName} ${other.lastName}`).substr(0, 22);\n\n    let lastMessage = room.lastMessage;\n    let text = '';\n\n    if (!lastMessage && room.isGroup) text = 'New group created.';\n    if (!lastMessage && !room.isGroup) text = `No messages with ${other.firstName} yet.`;\n\n    if (!lastMessage) lastMessage = {};\n\n    if (lastMessage.author === user.id && !room.isGroup) text += 'You: ';\n\n    switch (lastMessage.type) {\n        case 'file':\n            text += 'Sent a file.';\n            break;\n        case 'image':\n            text += 'Sent a picture.';\n            break;\n        default:\n            text += (lastMessage.content || '');\n    }\n\n    const date = lastMessage ? moment(lastMessage.date).format('MMM D') : '';\n    const time = lastMessage ? moment(lastMessage.date).format('h:mm A') : '';\n\n    const popup = (content, type) => {\n        addToast(content, {\n            appearance: type,\n            autoDismiss: true,\n        })\n    };\n\n    const remove = async () => {\n        if (window.confirm('Are you sure you want to remove this room? All associated messages will be deleted, both for you and other members.')) {\n            try {\n                await removeRoom(room._id);\n                popup('Room has been deleted.', 'success');\n                getRooms().then(res => dispatch({type: Actions.SET_ROOMS, rooms: res.data.rooms})).catch(err => console.log(err));\n                if (currentRoom && room._id === currentRoom._id) history.replace('/');\n            } catch (e) {\n                popup('Error while removing room. Please retry!', 'error');\n            }\n        }\n    };\n\n    const width = window.innerWidth;\n    const isMobile = width < 700;\n\n    const warningToast = content => {\n        addToast(content, {\n            appearance: 'warning',\n            autoDismiss: true,\n        })\n    };\n\n    const errorToast = content => {\n        addToast(content, {\n            appearance: 'error',\n            autoDismiss: true,\n        })\n    };\n\n    const call = async (callee, isVideo) => {\n        if (onlineUsers.filter(u => u.id === other._id).length === 0 && !room.isGroup)\n            return warningToast(\"Can't call user because user is offline\");\n        await setAudio(true);\n        await setVideo(isVideo);\n        await setCallDirection('outgoing');\n        dispatch({type: Actions.RTC_SET_COUNTERPART, counterpart: callee});\n        try {\n            const res = await getMeetingRoom({startedAsCall: true, caller: user.id, callee: other._id, callToGroup: room.isGroup, group: room._id});\n            await setMeeting(res.data);\n            history.replace('/meeting/' + res.data._id);\n            await postCall({roomID: room._id, meetingID: res.data._id});\n        }\n        catch (e) {\n            errorToast('Server error. Unable to initiate call.');\n        }\n    };\n\n    const getStatus = () => {\n        if (room.isGroup) return null;\n        if (onlineUsers.filter(u => u.id === other._id && u.status === 'busy').length > 0) return 'busy';\n        if (onlineUsers.filter(u => u.id === other._id && u.status === 'online').length > 0) return 'online';\n        if (onlineUsers.filter(u => u.id === other._id && u.status === 'away').length > 0) return 'away';\n        return null;\n    };\n\n    return (\n        <div\n            className=\"room uk-flex\"\n            onMouseOver={!isMobile ? () => setHover(true) : undefined}\n            onMouseOut={!isMobile ? () => setHover(false) : undefined}\n            onClick={() => {\n                const target = `/room/${room._id}`;\n                if (location.pathname !== target) history.replace(target);\n            }}>\n            <div className=\"uk-flex uk-flex-middle\">\n                <div className=\"profile\">\n                    <Picture user={other} group={room.isGroup} picture={room.picture} title={room.title} />\n                </div>\n                {getStatus() && <div className={`dot ${getStatus()}`} />}\n            </div>\n            <div className=\"text\">\n                <div className={`title${roomsWithNewMessages.includes(room._id) ? ' highlight' : ''}`}>\n                    {title.substr(0, 20)}{title.length > 20 && '...'}{roomsWithNewMessages.includes(room._id) ? ` (${roomsWithNewMessages.filter(r => room._id === r).length})` : ''}\n                </div>\n                <div className={`message${roomsWithNewMessages.includes(room._id) ? ' highlight' : ''}`}>\n                    {text.substr(0, 26)}{text.length > 26 && '...'}\n                </div>\n            </div>\n            <div className=\"controls\" hidden={hover}>\n                <div className=\"date\">{date}<br/>{time}</div>\n            </div>\n            <div className=\"controls\" hidden={!hover}>\n                <div className=\"button\" onClick={() => call(other, false)}>\n                    <FiPhone/>\n                </div>\n                <div className=\"uk-inline\">\n                    <div className=\"button\" type=\"button\">\n                        <FiMoreHorizontal/>\n                    </div>\n                    <div data-uk-dropdown=\"mode: click; offset: 5; boundary: .top-bar\">\n                        <div className=\"link\" onClick={remove}>Remove</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Room;\n","import React, {useEffect} from 'react';\nimport {useGlobal} from \"reactn\";\nimport {useSelector} from \"react-redux\";\nimport \"./Meeting.sass\";\nimport {useHistory} from \"react-router-dom\";\nimport * as moment from \"moment\";\n\nconst Meetings = ({meeting}) => {\n    const setMeeting = useGlobal('meetingID')[1];\n    const [over, setOver] = useGlobal('over');\n    const [showPanel, setShowPanel] = useGlobal('showPanel');\n    const user = useGlobal('user')[0];\n\n    const history = useHistory();\n\n    const title = (meeting.title && meeting.title.length > 0) ? meeting.title : 'Untitled Meeting';\n\n    let text;\n\n    if (meeting.peers.length > 0) text = `${meeting.peers.length} peers connected`;\n    else if (meeting.lastLeave) text = \"Meeting ended \" + moment(meeting.lastLeave).fromNow();\n\n    const incoming = meeting.callee && user.id === meeting.callee._id;\n    console.log(meeting);\n\n    return (\n        <div className=\"meeting-entry uk-flex uk-flex-center uk-flex-middle\" onClick={() => {\n            setMeeting(meeting._id);\n            setShowPanel(false);\n            setOver(true);\n            history.replace('/meeting/' + meeting._id);\n        }}>\n            <div className=\"img-wrapper\">\n                <div className={`img-content${meeting.peers.length ? ' active' : ''}`}>{meeting.peers.length}</div>\n            </div>\n            <div className=\"text\">\n                <div className={`title`}>\n                    {meeting.startedAsCall ? (meeting.callToGroup ? `Group call in ${meeting.group.title}` : (incoming ? `Call from ${meeting.caller ? meeting.caller.firstName : 'Deleted'} ${meeting.caller ? meeting.caller.lastName : 'User'}` : `Call to ${meeting.callee ? meeting.callee.firstName : 'Deleted'} ${meeting.callee ? meeting.callee.lastName : 'User'}`)) : \"Untitled Meeting\"}\n                </div>\n                <div className={`message`}>\n                    {text}\n                </div>\n                <div className={`message`}>\n                    ID: {meeting._id}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Meetings;\n","import React, {useState} from 'react';\nimport \"./Room.sass\";\nimport {FiPlus, FiMessageSquare} from 'react-icons/fi';\nimport Picture from \"../../../components/Picture\";\nimport createRoom from \"../../../actions/createRoom\";\nimport {useHistory, useLocation} from \"react-router-dom\";\nimport {useDispatch} from \"react-redux\";\nimport Actions from \"../../../constants/Actions\";\nimport {useGlobal} from \"reactn\";\n\nconst Room = ({user}) => {\n    const [hover, setHover] = useState(false);\n    const [nav, setNav] = useGlobal('nav');\n\n    const history = useHistory();\n    const location = useLocation();\n    const dispatch = useDispatch();\n\n    const title = `${user.firstName} ${user.lastName}`.substr(0, 22);\n\n    const chat = async () => {\n        const res = await createRoom(user._id);\n        setNav('rooms');\n        const target = `/room/${res.data.room._id}`;\n        dispatch({type: Actions.SET_ROOM, room: res.data.room});\n        dispatch({type: Actions.SET_MESSAGES, messages: res.data.room.messages});\n        if (location.pathname !== target) history.replace(target);\n    };\n\n    return (\n        <div className=\"room uk-flex\" onMouseOver={() => setHover(true)} onMouseOut={() => setHover(false)} onClick={chat}>\n            <div className=\"profile\">\n                <Picture user={user} />\n            </div>\n            <div className=\"text\">\n                <div className=\"title\">{title}{title.length > 22 && '...'}</div>\n            </div>\n            <div className=\"controls\" hidden={hover}>\n                <div className=\"date\">@{user.username}</div>\n            </div>\n            <div className=\"controls\" hidden={!hover}>\n                <div className=\"button\">\n                    <FiMessageSquare/>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Room;\n","import axios from \"axios\";\nimport Config from \"../config\";\n\nconst getFavorites = () => {\n    return axios({\n        method: \"post\",\n        url: (Config.url || '') + \"/api/favorites/list\",\n        data: {}\n    });\n};\n\nexport default getFavorites;\n","import axios from \"axios\";\nimport Config from \"../config\";\n\nconst getMeetings = () => {\n    return axios({\n        method: \"post\",\n        url: (Config.url || '') + \"/api/meeting/list\",\n        data: {}\n    });\n};\n\nexport default getMeetings;\n","import axios from \"axios\";\nimport Config from \"../config\";\n\nconst changePicture = imageID => {\n    return axios({\n        method: \"post\",\n        url: (Config.url || '') + '/api/picture/change',\n        data: { imageID }\n    });\n};\n\nexport default changePicture;\n","import React, {useRef, useState} from 'react';\nimport {useGlobal} from \"reactn\";\nimport \"./Settings.sass\";\nimport {FiCalendar, FiMessageCircle, FiStar, FiUsers, FiSearch} from 'react-icons/fi';\nimport {useToasts} from \"react-toast-notifications\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport upload from \"../../../actions/uploadImage\";\nimport Config from \"../../../config\";\nimport {FiEdit2} from \"react-icons/fi\";\nimport changePicture from \"../../../actions/changePicture\";\nimport {useHistory} from \"react-router-dom\";\n\nconst Settings = () => {\n    const { addToast } = useToasts();\n    const history = useHistory();\n\n    const [user, setUser] = useGlobal('user');\n    const setToken = useGlobal('token')[1];\n    const setPanel = useGlobal('panel')[1];\n\n    const fileInput = useRef(null);\n\n    const change = async image => {\n        const picture = await upload(image, null, () => {}, 'square');\n        await changePicture(picture.data.image._id);\n        const newUser = {...user, picture: picture.data.image};\n        localStorage.setItem('user', JSON.stringify(newUser));\n        await setUser(newUser);\n    };\n\n    const remove = async () => {\n        await changePicture();\n        const newUser = {...user, picture: undefined};\n        localStorage.setItem('user', JSON.stringify(newUser));\n        await setUser(newUser);\n    };\n\n    const logout = async () => {\n        const username = user.username;\n        localStorage.removeItem('token');\n        await setToken(null);\n        await setUser({});\n        addToast(`User ${username} logged out!`, {\n            appearance: 'success',\n            autoDismiss: true,\n        })\n        history.replace(\"/login\");\n    };\n\n    const notAvailable = name => {\n        addToast(`The ${name} feature is not available yet.`, {\n            appearance: 'warning',\n            autoDismiss: true,\n        })\n    };\n\n    const Picture = () => {\n        if (user.picture)\n            return <img src={`${Config.url || ''}/api/images/${user.picture.shieldedID}/256`} alt=\"Picture\" className=\"picture\"/>;\n        else\n            return <div className=\"img\">{user.firstName.substr(0,1)}{user.lastName.substr(0,1)}</div>;\n    };\n\n    return (\n        <div className=\"settings uk-flex uk-flex-column uk-padding-small\">\n            <input\n                className=\"file-input\"\n                type=\"file\"\n                ref={fileInput}\n                accept=\"image/*\"\n                onChange={e => change(e.target.files[0])}\n            />\n            <div className=\"picture uk-margin-small\" onClick={() => fileInput && fileInput.current && fileInput.current.click()}>\n                <Picture/>\n                <div className=\"overlay\">\n                    <div className=\"text\"><FiEdit2/></div>\n                </div>\n            </div>\n            <button className=\"uk-margin-small-top uk-button uk-button-secondary\" onClick={remove}>Remove Picture</button>\n            <button className=\"uk-margin-small-top uk-button uk-button-secondary\" onClick={logout}>Logout</button>\n            <button className=\"uk-margin-small uk-button uk-button-honey uk-button-large\" onClick={() => setPanel('createGroup')}>Create Group</button>\n        </div>\n    );\n}\n\nexport default Settings;\n","import React, {useEffect, useState} from 'react';\nimport {useGlobal} from \"reactn\";\nimport \"./Panel.sass\";\nimport TopBar from \"./components/TopBar\";\nimport SearchBar from \"./components/SearchBar\";\nimport NavBar from \"./components/NavBar\";\nimport MeetingBar from \"./components/MeetingBar\";\nimport Room from \"./components/Room\";\nimport Meeting from \"./components/Meeting\";\nimport User from \"./components/User\";\nimport getRooms from \"../../actions/getRooms\";\nimport search from \"../../actions/search\";\nimport getFavorites from \"../../actions/getFavorites\";\nimport getMeetings from \"../../actions/getMeetings\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport Actions from \"../../constants/Actions\";\nimport Settings from \"./components/Settings\";\nimport {useLocation} from \"react-router-dom\";\n\nconst Panel = () => {\n    const nav = useGlobal('nav')[0];\n    const token = useGlobal('token')[0];\n    const searchText = useGlobal('search')[0];\n    const rooms = useSelector(state => state.io.rooms);\n    const [searchResults, setSearchResults] = useGlobal('searchResults');\n    const [favorites, setFavorites] = useGlobal('favorites');\n    const [meetings, setMeetings] = useGlobal('meetings');\n    const [callStatus, setCallStatus] = useGlobal('callStatus');\n    const [over, setOver] = useGlobal('over');\n    const refreshMeetings = useSelector(state => state.io.refreshMeetings);\n\n    const dispatch = useDispatch();\n    const location = useLocation();\n\n    useEffect(() => {\n        getRooms().then(res => dispatch({type: Actions.SET_ROOMS, rooms: res.data.rooms})).catch(err => console.log(err));\n        search().then(res => setSearchResults(res.data.users)).catch(err => console.log(err));\n        getFavorites().then(res => setFavorites(res.data.favorites)).catch(err => console.log(err));\n        getMeetings().then(res => setMeetings(res.data.meetings)).catch(err => console.log(err));\n    }, [setSearchResults, setFavorites]);\n\n    useEffect(() => {\n        getMeetings().then(res => setMeetings(res.data.meetings)).catch(err => console.log(err));\n    }, [refreshMeetings]);\n\n    const roomsList = rooms.map(room => <Room key={room._id} room={room} />);\n    const searchResultsList = searchResults.map(user => <User key={user._id} user={user} />);\n    const favoritesList = favorites.map(room => <Room key={room._id} room={room} />);\n    const meetingsList = meetings.map(meeting => <Meeting key={meeting._id} meeting={meeting} />);\n\n    const Notice = ({text}) => <div className=\"notice\">{text}</div>\n\n    return (\n        <div className=\"panel\">\n            <TopBar/>\n            <SearchBar/>\n            <NavBar/>\n            {callStatus === 'in-call' && (!location.pathname.startsWith('/meeting') || over === false) && <MeetingBar/>}\n            <div className=\"rooms\">\n                {nav === 'rooms' && roomsList}\n                {nav === 'rooms' && rooms.length === 0 && <Notice text=\"There are no rooms yet. Contact someone or create a group to begin!\" />}\n                {nav === 'search' && searchResultsList}\n                {nav === 'search' && searchResults.length === 0 && <Notice text={`There are no search results for \"${searchText}\"`} />}\n                {nav === 'favorites' && favoritesList}\n                {nav === 'favorites' && favorites.length === 0 && <Notice text=\"There are no favorites yet. Add a room to your favorites!\" />}\n                {nav === 'meetings' && meetingsList}\n                {nav === 'meetings' && meetings.length === 0 && <Notice text=\"There are no meetings yet. Create a new meeting or call someone!\" />}\n                {nav === 'settings' && <Settings/>}\n            </div>\n        </div>\n    );\n}\n\nexport default Panel;\n","import React from \"react\";\nimport './Info.sass';\nimport logo from '../../../assets/logo.png';\nimport Config from '../../../config';\nimport {useGlobal} from \"reactn\";\n\nconst Info = () => {\n    const version = useGlobal('version')[0];\n\n    return (\n        <div className=\"info\">\n            <div className=\"top\">\n                <div className=\"logo\">\n                    <img src={logo} alt=\"Picture\" />\n                </div>\n                <div className=\"text\">\n                    Welcome to {Config.appName || 'Chat Zaions'}!<br/><br/>\n                    {Config.appName || 'Chat Zaions'} is a messaging app that enables real-time messaging, audio and video calls, groups and conferencing.\n                </div>\n            </div>\n            <div className=\"text\">\n                Copyright &copy; {Config.brand || 'Zaions.com'}<br />\n                \n            </div>\n        </div>\n    );\n};\n\nexport default Info;\n","import React, {useState, useEffect, useRef} from \"react\";\nimport './Room.sass';\nimport {FiCircle} from \"react-icons/all\";\nimport Config from '../../../config';\nimport {useSelector} from \"react-redux\";\nimport {useGlobal} from \"reactn\";\nimport {Lightbox} from \"react-modal-image\";\n\nconst Room = () => {\n    const room = useSelector(state => state.io.room);\n    const onlineUsers = useSelector(state => state.io.onlineUsers);\n    const roomID = useSelector(state => state.io.room._id);\n    const imagesNumber = useSelector(state => state.io.room.images.length);\n    const firstMessageID = useSelector(state => state.io.room.images.length > 0 ? state.io.room.images[state.io.room.images.length - 1]._id : null);\n    const user = useGlobal('user')[0];\n\n    const scrollContainer = useRef(null);\n\n    const [scrollHeight, setScrollHeight] = useState(0);\n    const [open, setOpen] = useState(null);\n    const [viewMembers, setViewMembers] = useState(false);\n\n    useEffect(() => {\n        if (scrollContainer.current.scrollTop === 0) scrollContainer.current.scrollTop = scrollHeight\n    }, [imagesNumber]);\n\n    let other = {\n        firstName: 'A', lastName: 'A'\n    };\n\n    if (!room.isGroup && room.people) {\n        room.people.forEach(person => {\n            if (person._id !== user.id) other = person;\n        });\n    }\n\n    const Picture = ({picture, user, group}) => {\n        if (picture)\n            return <img src={`${Config.url || ''}/api/images/${picture.shieldedID}/256`} alt=\"Picture\" />;\n        else\n            return <div className=\"img\">{ group ? room.title.substr(0, 1) : `${user.firstName.substr(0,1)}${user.lastName.substr(0,1)}`}</div>;\n    };\n\n    const rows = [];\n    let rowIndex = 0;\n    let row = [];\n\n    room.images.forEach(message => {\n        row.push(message);\n        if (row.length === 2) {\n            rows.push(row);\n            rowIndex++;\n            row = [];\n        }\n    });\n    if (row.length > 0) rows.push(row);\n\n    const images = rows.map(row => {\n        const images = row.map(message => {;\n            return <img src={`${Config.url || ''}/api/images/${message.content}/256`} alt={`Sent by @${message.author.username}`} onClick={() => setOpen(message)} />;\n        });\n        return <div className=\"row\">{images}</div>\n    });\n\n    const onScroll = () => {\n        setScrollHeight(scrollContainer.current.scrollHeight);\n        if (scrollContainer.current.scrollTop >= (scrollContainer.current.scrollHeight - scrollContainer.current.offsetHeight)) {\n            // Request more images\n        }\n    };\n\n    const Notice = () => {\n        if (images.length === 0) return (\n            <div className=\"notice-text\">There are no images in this conversation yet.</div>\n        );\n        return null;\n    };\n\n    const compare = (a, b) => {\n        if (a.firstName < b.firstName) return -1;\n        if (a.firstName > b.firstName) return 1;\n        if (a.lastName < b.lastName) return -1;\n        if (a.lastName > b.lastName) return 1;\n        return 0;\n    };\n\n    const people = room.people;\n\n    people.sort(compare);\n\n    const getColor = (id) => {\n        if (onlineUsers.filter(u => u.id === id && u.status === 'busy').length > 0) return 'busy';\n        if (onlineUsers.filter(u => u.id === id && u.status === 'online').length > 0) return 'online';\n        if (onlineUsers.filter(u => u.id === id && u.status === 'away').length > 0) return 'away';\n        return 'offline';\n    };\n\n    let members = people.map(person => (\n        <div className=\"member\">\n            <Picture picture={person.picture} user={person} />\n            <div className=\"text\">{person.firstName} {person.lastName}</div>\n            <div className={getColor(person._id)}>\n                <FiCircle/>\n            </div>\n        </div>\n    ));\n\n    const Members = () => (\n        <div className=\"members\">\n            {members}\n        </div>\n    );\n\n    return (\n        <div className=\"details-room\">\n            <div className=\"profile\">\n                <Picture group={room.isGroup} picture={room.isGroup ? room.picture : other.picture} user={other} />\n            </div>\n            <div className=\"name\" hidden>{room.isGroup ? room.title : `${other.firstName} ${other.lastName}`}</div>\n            <div className=\"title\" hidden>{other.tagLine || 'No Tag Line'}</div>\n            <button className=\"details-button uk-margin-remove-bottom uk-button uk-button-secondary\" onClick={() => setViewMembers(!viewMembers)}>View {viewMembers ? 'Images' : 'Members'}</button>\n            {viewMembers && <Members/>}\n            <div className=\"images\" ref={scrollContainer} onScroll={onScroll} hidden={viewMembers}>\n                {open && (\n                    <Lightbox\n                        medium={`${Config.url || ''}/api/images/${open.content}/1024`}\n                        large={`${Config.url || ''}/api/images/${open.content}/2048`}\n                        alt=\"Lightbox\"\n                        hideDownload={true}\n                        onClose={() => setOpen(null)}\n                    />\n                )}\n                {images}\n                <Notice/>\n            </div>\n        </div>\n    );\n};\n\nexport default Room;\n","import React from 'react';\nimport \"./TopBar.sass\";\nimport placeholder from \"../../../assets/placeholder.jpg\";\nimport {FiMoreVertical, FiArrowLeft, FiMoreHorizontal, FiExternalLink} from 'react-icons/fi';\nimport {useGlobal} from \"reactn\";\nimport Config from \"../../../config\";\n\nconst TopBar = ({back}) => {\n    const aoneahsan = () => window.open(\"http://aoneahsan.website\", \"_blank\");\n    const zaionsSite = () => window.open(\"http://zaions.com\", \"_blank\");\n\n    return (\n            <div className=\"top-bar uk-flex uk-flex-between uk-flex-middle\">\n                <div className=\"nav\">\n                    <div className=\"button\" onClick={back}>\n                        <FiArrowLeft/>\n                    </div>\n                </div>\n                <div className=\"nav\">\n                    {Config.demo && <div className=\"uk-inline\">\n                        <div className=\"button\" type=\"button\">\n                            <FiMoreHorizontal/>\n                        </div>\n                        <div data-uk-dropdown=\"mode: click; offset: 5; boundary: .top-bar; pos: bottom-right\">\n                            <div className=\"link\" onClick={aoneahsan}>Aoneahsan.website <div className=\"icon\"><FiExternalLink/></div></div>\n                            <div className=\"link\" onClick={zaionsSite}>Zaions.com <div className=\"icon\"><FiExternalLink/></div></div>\n                        </div>\n                    </div>}\n                </div>\n            </div>\n    );\n}\n\nexport default TopBar;\n","import React from 'react';\nimport Info from \"./components/Info\";\nimport Room from \"./components/Room\";\nimport \"./Details.sass\";\nimport {useHistory, useLocation} from \"react-router-dom\";\nimport {useSelector} from \"react-redux\";\nimport TopBar from \"./components/TopBar\";\nimport {useGlobal} from \"reactn\";\n\nconst Details = () => {\n    const location = useLocation();\n    const room = useSelector(state => state.io.room);\n\n    const history = useHistory();\n\n    const back = () => history.replace('/room/' + room._id);\n\n    const getComponent = () => {\n        if (location.pathname.startsWith(\"/room\") && room) return <Room/>;\n        if (expand && room) return <Room/>;\n        return <Info/>;\n    }\n\n    const expand = location.pathname.endsWith('/info');\n\n    return (\n        <div className={`details${expand ? ' expand' : ' uk-visible@l'}`}>\n            {expand && <TopBar back={back} />}\n            {getComponent(expand)}\n        </div>\n    );\n}\n\nexport default Details;\n","import axios from \"axios\";\nimport Config from \"../config\";\n\nconst toggleFavorite = roomID => {\n    return axios({\n        method: \"post\",\n        url: (Config.url || '') + \"/api/favorite/toggle\",\n        data: { roomID }\n    });\n};\n\nexport default toggleFavorite;\n","import React, {useEffect, useState, useRef} from 'react';\nimport \"./TopBar.sass\";\nimport {FiPhone, FiVideo, FiArrowLeft, FiMoreHorizontal, FiExternalLink, FiStar, FiInfo} from 'react-icons/fi';\nimport {useGlobal} from \"reactn\";\nimport Picture from \"../../../components/Picture\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {useToasts} from \"react-toast-notifications\";\nimport toggleFavorite from \"../../../actions/toggleFavorite\";\nimport {useHistory} from \"react-router-dom\";\nimport getMeetingRoom from \"../../../actions/getMeetingRoom\";\nimport postCall from \"../../../actions/postCall\";\nimport Actions from \"../../../constants/Actions\";\nimport moment from \"moment\";\nimport Config from \"../../../config\";\n\nconst TopBar = ({back, loading}) => {\n    const onlineUsers = useSelector(state => state.io.onlineUsers);\n    const room = useSelector(state => state.io.room) || {};\n    const user = useGlobal('user')[0];\n    const [favorites, setFavorites] = useGlobal('favorites');\n    const setNav = useGlobal('nav')[1];\n    const setAudio = useGlobal('audio')[1];\n    const setVideo = useGlobal('video')[1];\n    const setCallDirection = useGlobal('callDirection')[1];\n    const setMeeting = useGlobal('meeting')[1];\n\n    const {addToast} = useToasts();\n    const dispatch = useDispatch();\n    const history = useHistory();\n\n    const aoneahsan = () => window.open(\"http://aoneahsan.website\", \"_blank\");\n    const zaionsSite = () => window.open(\"http://zaions.com\", \"_blank\");\n\n    let other = {};\n\n    room.people && room.people.forEach(person => {\n        if (user.id !== person._id) other = person;\n    });\n\n    if (!other.firstName) {\n        other = {...other, firstName: 'Deleted', lastName: 'User'};\n    }\n\n    const title = (room.isGroup ? room.title : `${other.firstName} ${other.lastName}`).substr(0, 22);\n\n    const warningToast = content => {\n        addToast(content, {\n            appearance: 'warning',\n            autoDismiss: true,\n        })\n    };\n\n    const errorToast = content => {\n        addToast(content, {\n            appearance: 'error',\n            autoDismiss: true,\n        })\n    };\n\n    const call = async isVideo => {\n        if (onlineUsers.filter(u => u.id === other._id).length === 0 && !room.isGroup)\n            return warningToast(\"Can't call user because user is offline\");\n        await setAudio(true);\n        await setVideo(isVideo);\n        await setCallDirection('outgoing');\n        dispatch({type: Actions.RTC_SET_COUNTERPART, counterpart: other});\n        try {\n            const res = await getMeetingRoom({\n                startedAsCall: true,\n                caller: user.id,\n                callee: other._id,\n                callToGroup: room.isGroup,\n                group: room._id\n            });\n            await setMeeting(res.data);\n            history.replace('/meeting/' + res.data._id);\n            await postCall({roomID: room._id, meetingID: res.data._id});\n        } catch (e) {\n            errorToast('Server error. Unable to initiate call.');\n        }\n    };\n\n    const favorite = async () => {\n        const res = await toggleFavorite(room._id);\n        setNav('favorites');\n        setFavorites(res.data.favorites);\n    };\n\n    const isFavorite = () => {\n        for (let favorite of favorites) {\n            if (favorite._id === room._id) return true;\n        }\n        return false;\n    }\n\n    const roomInfo = () => {\n        history.replace('/room/' + room._id + '/info');\n    };\n\n    const Online = ({other}) => {\n        const onlineUsers = useSelector(state => state.io.onlineUsers);\n        const prevStatusRef = useRef(false);\n        const [lastOnline, setLastOnline] = useState(null);\n\n        useEffect(() => {\n            if (prevStatusRef.current && onlineUsers.filter(u => u.id === other._id).length === 0) setLastOnline(moment().valueOf());\n            prevStatusRef.current = onlineUsers.filter(u => u.id === other._id).length > 0;\n        }, [onlineUsers, other]);\n\n        if (onlineUsers.filter(u => u.id === other._id && u.status === 'busy').length > 0) return 'busy';\n        if (onlineUsers.filter(u => u.id === other._id && u.status === 'online').length > 0) return 'online';\n        if (onlineUsers.filter(u => u.id === other._id && u.status === 'away').length > 0) return 'away';\n        if (lastOnline) return `Last online: ${moment(lastOnline).fromNow()}`;\n        return `Last online: ${other.lastOnline ? moment(other.lastOnline).fromNow() : 'Never'}`;\n    };\n\n    const getStatus = () => {\n        if (room.isGroup) return null;\n        if (onlineUsers.filter(u => u.id === other._id && u.status === 'busy').length > 0) return 'busy';\n        if (onlineUsers.filter(u => u.id === other._id && u.status === 'online').length > 0) return 'online';\n        if (onlineUsers.filter(u => u.id === other._id && u.status === 'away').length > 0) return 'away';\n        return null;\n    };\n\n    return (\n        <div className=\"top-bar uk-flex uk-flex-between uk-flex-middle\">\n            <div className=\"nav uk-flex uk-flex-middle\">\n                <div className=\"button mobile\" onClick={back}>\n                    <FiArrowLeft/>\n                </div>\n                {!loading &&\n                <div className=\"uk-flex uk-flex-middle\">\n                    <div className=\"profile conversation\">\n                        <Picture user={other} group={room.isGroup} picture={room.picture} title={room.title}/>\n                    </div>\n                    {getStatus() && <div className={`dot ${getStatus()}`}/>}\n                </div>\n                }\n                {!loading &&\n                <div className=\"text\">\n                    <div className=\"title\">{title}{title.length > 22 && '...'}</div>\n                    <div className=\"message\">{room.isGroup ? `Group: ${room.people.length} members` :\n                        <Online other={other}/>}</div>\n                </div>\n                }\n            </div>\n            <div className=\"nav\">\n                <div className=\"button\" onClick={() => call(true)}>\n                    <FiVideo/>\n                </div>\n                <div className=\"button\" onClick={() => call(false)}>\n                    <FiPhone/>\n                </div>\n                <div className={`button${isFavorite() ? ' active' : ''}`} onClick={favorite}>\n                    <FiStar/>\n                </div>\n                <div className=\"uk-inline\">\n                    <div className=\"button\" type=\"button\">\n                        <FiMoreHorizontal/>\n                    </div>\n                    <div data-uk-dropdown=\"mode: click; offset: 5; boundary: .top-bar; pos: bottom-right\">\n                        <div className=\"link\" onClick={roomInfo}>Room Info <div className=\"icon\"><FiInfo/>\n                        </div></div>\n                        {Config.demo && <div className=\"divider\"/>}\n                        {Config.demo &&\n                        <div className=\"link\" onClick={aoneahsan}>Aoneahsan.website <div className=\"icon\"><FiExternalLink/>\n                        </div></div>}\n                        {Config.demo &&\n                        <div className=\"link\" onClick={zaionsSite}>Zaions.com <div className=\"icon\"><FiExternalLink/>\n                        </div></div>}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default TopBar;\n","import axios from \"axios\";\nimport Config from \"../config\";\n\nconst message = data => {\n    return axios({\n        method: \"post\",\n        url: (Config.url || '') + \"/api/message\",\n        data: data\n    });\n};\n\nexport default message;\n","import Config from \"../config\";\nimport axios from 'axios'\n\nconst uploadFile = (file, token, onProgress = () => {}) => {\n    const url = (Config.url || '') + '/api/upload/file';\n\n    const data = new FormData();\n\n    data.append('file', file, file.name);\n\n    const config = {\n        onUploadProgress: onProgress,\n    };\n\n    return axios.post(url, data, config);\n};\n\nexport default uploadFile;\n","import axios from \"axios\";\nimport Config from \"../config\";\n\nconst typing = (room, isTyping) => dispatch => {\n    axios.post(`${Config.url || ''}/api/typing`, {room, isTyping}).then(res => {}).catch(err => {\n        console.log(err);\n    });\n};\n\nexport default typing;\n","import React, {useRef, useState, useEffect} from 'react';\nimport \"./BottomBar.sass\";\nimport {\n    FiSend,\n    FiImage,\n    FiSmile,\n    FiPaperclip,\n} from \"react-icons/fi\";\nimport {useGlobal} from \"reactn\";\nimport moment from \"moment\";\nimport 'emoji-mart/css/emoji-mart.css';\nimport {Picker} from 'emoji-mart';\nimport message from \"../../../actions/message\";\nimport uploadImage from \"../../../actions/uploadImage\";\nimport uploadFile from \"../../../actions/uploadFile\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport Actions from \"../../../constants/Actions\";\nimport getRooms from \"../../../actions/getRooms\";\nimport typing from \"../../../actions/typing\";\n\nconst BottomBar = () => {\n    const version = useGlobal('version')[0];\n    const imageInput = useRef(null);\n    const fileInput = useRef(null);\n\n    const ref = useGlobal('ref')[0];\n    const room = useSelector(state => state.io.room);\n    const emojis = useSelector(state => state.emoji.sheet);\n    const user = useGlobal('user')[0];\n\n    const [text, setText] = useState('');\n    const [isPicker, showPicker] = useGlobal('isPicker');\n    const [pictureRefs, addPictureRef] = useState([]);\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        if (text === '') dispatch(typing(room, false));\n        else dispatch(typing(room, true));\n    }, [text])\n\n    const sendMessage = () => {\n        if (text.length === 0) return;\n        message({roomID: room._id, authorID: user.id, content: text, contentType: 'text'}).then(() => {\n            getRooms().then(res => dispatch({type: Actions.SET_ROOMS, rooms: res.data.rooms})).catch(err => console.log(err));\n        });\n        let newMessage = {\n            _id: Math.random(), author: {...user, _id: user.id}, content: text, type: 'text', date: moment()\n        };\n        dispatch({type: Actions.MESSAGE, message: newMessage});\n        setText('');\n        showPicker(false);\n    };\n\n    const handleKeyPress = event => {\n        showPicker(false);\n        if (event.key === 'Enter') sendMessage();\n    };\n\n    const sendImages = async images => {\n        let tmpRefs = [];\n        for (let i = 0; i < images.length; i++) {\n            const image = images[i];\n            tmpRefs.push(ref + i);\n            const res = await uploadImage(image, ref + i);\n            message({roomID: room._id, authorID: user.id, content: res.data.image.shieldedID, type: 'image'});\n            let newMessage = {\n                _id: Math.random(), author: {...user, _id: user.id}, content: res.data.image.shieldedID, type: 'image', date: moment()\n            };\n            dispatch({type: Actions.MESSAGE, message: newMessage});\n        }\n        addPictureRef([...pictureRefs, ...tmpRefs]);\n        showPicker(false);\n        getRooms().then(res => dispatch({type: Actions.SET_ROOMS, rooms: res.data.rooms})).catch(err => console.log(err));\n    };\n\n    const sendFiles = async files => {\n        for (let i = 0; i < files.length; i++) {\n            if ((files[i].size / (1024 * 1024)) > 10) return alert('File exceeds 10MB limit!');\n        }\n        let tmpRefs = [];\n        for (let i = 0; i < files.length; i++) {\n            const file = files[i];\n            tmpRefs.push(ref + i);\n            const res = await uploadFile(file, ref + i);\n            message({roomID: room._id, authorID: user.id, content: res.data.file.shieldedID, type: 'file', fileID: res.data.file._id});\n            let newMessage = {\n                _id: Math.random(), author: {...user, _id: user.id}, content: res.data.file.shieldedID, type: 'file', date: moment(), file: res.data.file,\n            };\n            dispatch({type: Actions.MESSAGE, message: newMessage});\n        }\n        addPictureRef([...pictureRefs, ...tmpRefs]);\n        showPicker(false);\n        getRooms().then(res => dispatch({type: Actions.SET_ROOMS, rooms: res.data.rooms})).catch(err => console.log(err));\n    };\n\n    return (\n        <div className=\"bottom-bar-conversation uk-flex uk-flex-middle\">\n            <div className=\"picker\" hidden={!isPicker}>\n                <Picker\n                    onSelect={emoji => setText(text + emoji.native)}\n                    darkMode={false}\n                    title=\"Emoji\"\n                    native={true}\n                    set=\"facebook\"\n                />\n            </div>\n            <div className=\"button smile\" onClick={() => showPicker(!isPicker)}><FiSmile/></div>\n            <input\n                className=\"file-input\"\n                type=\"file\"\n                ref={imageInput}\n                accept=\"image/*\"\n                multiple={true}\n                onChange={e => sendImages(e.target.files)}\n            />\n            <div className=\"button image-attach\" onClick={() => imageInput && imageInput.current && imageInput.current.click()}>\n                <FiImage/>\n            </div>\n            <input\n                className=\"file-input\"\n                type=\"file\"\n                ref={fileInput}\n                multiple={true}\n                onChange={e => sendFiles(e.target.files)}\n            />\n            <div className=\"button attach\" onClick={() => fileInput && fileInput.current && fileInput.current.click()}>\n                <FiPaperclip/>\n            </div>\n            <input\n                className=\"search-input\"\n                type=\"text\"\n                placeholder=\"Type something to send...\"\n                value={text}\n                onChange={e => setText(e.target.value)}\n                data-emoji-input=\"unicode\"\n                onKeyPress={handleKeyPress}\n                onFocus={() => showPicker(false)}\n            />\n            <div className=\"button\" onClick={sendMessage}><FiSend/></div>\n        </div>\n    );\n}\n\nexport default BottomBar;\n","import axios from \"axios\";\nimport Config from \"../config\";\n\nconst getRoom = id => {\n    return axios({\n        method: \"post\",\n        url: (Config.url || '') + \"/api/room/join\",\n        data: { id }\n    });\n};\n\nexport default getRoom;\n","import React, {useState} from 'react';\nimport moment from \"moment\";\nimport './Message.sass';\nimport emojiRegex from 'emoji-regex/text';\nimport Config from \"../../../config\";\nimport {useGlobal} from \"reactn\";\nimport ReactImageAppear from 'react-image-appear';\nimport {FiDownloadCloud} from \"react-icons/fi\";\nimport striptags from \"striptags\";\n\nconst Message = ({message, previous, next, onOpen}) => {\n    let { author, content, date } = message;\n\n    const user = useGlobal('user')[0];\n\n    if (!author) author = { firstName: 'Deleted', lastName: 'User' };\n    if (previous && !previous.author) previous.author = { firstName: 'Deleted', lastName: 'User' };\n    if (next && !next.author) next.author = { firstName: 'Deleted', lastName: 'User' };\n\n    const isMine = user.id === author._id;\n\n    let attachPrevious = false, attachNext = false;\n\n    if (previous && Math.abs(moment(previous.date).diff(moment(date), 'minutes')) < 3  && author._id === previous.author._id)\n        attachPrevious = true;\n    if (next && Math.abs(moment(next.date).diff(moment(date), 'minutes')) < 3 && author._id === next.author._id)\n        attachNext = true;\n\n    const Picture = ({user}) => {\n        if (user.picture)\n            return <img src={`${Config.url || ''}/api/images/${user.picture.shieldedID}/256`} alt=\"Picture\" />;\n        else\n            return <div className=\"img\">{user.firstName.substr(0,1)}{user.lastName.substr(0,1)}</div>;\n    };\n\n    const Details = ({side}) => {\n        if (!attachNext) return (\n            <div className={`message-details ${side}`}>\n                {moment(date).format('MMM DD - h:mm A')}\n            </div>\n        );\n        else return null;\n    };\n\n    const PictureOrSpacer = () => {\n        if (attachPrevious) return <div className=\"spacer\"/>;\n        else return (\n            <div className=\"picture\">\n                <Picture user={author} />\n            </div>\n        );\n    };\n\n    const noEmoji = content.replace(emojiRegex(), '');\n    const isOnlyEmoji = !noEmoji.replace(/[\\s\\n]/gm, '');\n\n    const getBubble = () => {\n        if (attachPrevious || isOnlyEmoji)\n            if (isMine) return ' right';\n            else return ' left';\n        if (isMine) return ' bubble-right right';\n        else return ' bubble-left left';\n    };\n\n    const convertUrls = text => {\n        const urlRegex =/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/ig;\n        return text.replace(urlRegex, function(url) {\n            return '<a href=\"' + url + '\" target=\"_blank\">' + url + '</a>';\n        });\n    };\n\n    const Content = () => {\n        switch (message.type) {\n            case 'image':\n                return (\n                    <ReactImageAppear\n                        src={`${Config.url || ''}/api/images/${message.content}/512`}\n                        animationDuration=\"0.2s\"\n                        onClick={() => onOpen(message)}\n                    />\n                );\n            case 'file':\n                return (\n                    <a href={`${Config.url || ''}/api/files/${message.content}`} download={message.file ? message.file.name : 'File'}>\n                        <div className=\"content-download\">\n                            <div className=\"content-file\">\n                                <div className=\"content-name\">{message.file ? message.file.name : 'File'}</div>\n                                <div className=\"content-size\">{message.file ? Math.round(message.file.size / 1024 / 1024 * 10 ) / 10 + ' MB' : 'Size'}</div>\n                            </div>\n                            <div className=\"content-icon\"><FiDownloadCloud/></div>\n                        </div>\n                    </a>\n                );\n            default:\n                return <div dangerouslySetInnerHTML={{__html: convertUrls(striptags(content, [ 'a', 'strong', 'b', 'i', 'em', 'u', 'br' ]))}} />\n        }\n    };\n\n    const getBubbleClass = () => {\n        if (message.type === 'image') return 'bubble-image';\n        return isOnlyEmoji ? 'emoji-bubble' : 'bubble';\n    };\n\n    return (\n        <div className={`message${isMine ? ' right' : ' left'}${attachPrevious ? ' attach-previous' : ''}${attachNext ? ' attach-next' : ''}`}>\n            <PictureOrSpacer/>\n            <div className={`content-x${isMine ? ' right' : ''}${attachPrevious ? ' attach-previous' : ''}${attachNext ? ' attach-next' : ''}`}>\n                <div className={`${getBubbleClass()}${getBubble()}${attachPrevious ? ' attach-previous' : ''}${attachNext ? ' attach-next' : ''}`}>\n                    <Content/>\n                </div>\n                <Details side={isMine ? 'right' : 'left'} />\n            </div>\n        </div>\n    );\n};\n\nexport default Message;\n","import axios from \"axios\";\nimport Config from \"../config\";\n\nconst getMoreMessages = ({roomID, firstMessageID}) => {\n    return axios({\n        method: \"post\",\n        url: (Config.url || '') + \"/api/messages/more\",\n        data: { roomID, firstMessageID }\n    });\n};\n\nexport default getMoreMessages;\n","import React, {useState, useRef, useEffect} from 'react';\nimport Message from \"./Message\";\nimport { Lightbox } from \"react-modal-image\";\nimport Config from \"../../../config\";\nimport {useGlobal} from \"reactn\";\nimport './Messages.sass';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport getMoreMessages from \"../../../actions/getMoreMessages\";\nimport Actions from \"../../../constants/Actions\";\nimport striptags from \"striptags\";\nimport Picture from \"../../../components/Picture\";\nimport moment from \"moment\";\n\nconst Messages = () => {\n    const user = useGlobal('user')[0];\n    const messages = useSelector(state => state.io.messages) || [];\n    const room = useSelector(state => state.io.room);\n    const [loading, setLoading] = useState(false);\n    const typing = useSelector(state => state.messages.typing)\n\n    const dispatch = useDispatch();\n\n    const chat = useRef(null);\n\n    const [open, setOpen] = useState(null);\n\n    let other = {\n        firstName: 'A', lastName: 'A'\n    };\n\n    if (!room.isGroup && room.people) {\n        room.people.forEach(person => {\n            if (person._id !== user.id) other = person;\n        });\n    }\n\n    const Messages = messages.map((message, index) => {\n        return <Message\n            key={message._id}\n            message={message}\n            previous={messages[index - 1]}\n            next={messages[index + 1]}\n            onOpen={setOpen}\n        />;\n    });\n\n    const onScroll = () => {\n        if (chat.current.scrollTop === 0) {\n            if (loading) return;\n            setLoading(true);\n            getMoreMessages({roomID: room._id, firstMessageID: messages[0]._id}).then(res => {\n                console.log(res.data.messages)\n                dispatch({type: Actions.MORE_MESSAGES, messages: res.data.messages});\n                setLoading(false);\n            }).catch(err => {\n                setLoading(false);\n            });\n        }\n    };\n\n\n    useEffect(() => {\n        if (chat.current) chat.current.scrollTop = chat.current.scrollHeight;\n    }, [messages.length]);\n\n    useEffect(() => {\n        if (typing && chat.current) chat.current.scrollTop = chat.current.scrollHeight;\n    }, [typing])\n\n    return (\n        <div className=\"messages-wrapper\" ref={chat} onScroll={onScroll}>\n            <div className=\"messages-container\">\n                {open && (\n                    <Lightbox\n                        medium={`${Config.url || ''}/api/images/${open.content}/1024`}\n                        large={`${Config.url || ''}/api/images/${open.content}/2048`}\n                        alt=\"Lightbox\"\n                        hideDownload={true}\n                        onClose={() => setOpen(null)}\n                    />\n                )}\n                {Messages}\n                {typing && <div className=\"message left attach-previous\">\n                    <div className=\"picture\">\n                        <Picture user={other} />\n                    </div>\n                    <div className=\"content-x\">\n                        <div className=\"bubble bubble-left left\" style={{width: 20}}>\n                            <div id=\"wave\">\n                                <span className=\"dot\"/>\n                                <span className=\"dot\"/>\n                                <span className=\"dot\"/>\n                            </div>\n                        </div>\n                        <div className={`message-details left`} style={{color: \"transparent\"}}>-</div>\n                    </div>\n                </div>}\n            </div>\n        </div>\n    );\n};\n\nexport default Messages;\n","import React, {useEffect, useState} from 'react';\nimport {useGlobal} from \"reactn\";\nimport TopBar from \"./components/TopBar\";\nimport BottomBar from \"./components/BottomBar\";\nimport \"./Conversation.sass\";\nimport {useParams} from \"react-router-dom\";\nimport getRoom from \"../../actions/getRoom\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport Messages from \"./components/Messages\";\nimport {useHistory} from \"react-router-dom\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport Actions from \"../../constants/Actions\";\n\nconst Conversation = () => {\n    const room = useSelector(state => state.io.room);\n    const [error, setError] = useState(false);\n    const [loading, setLoading] = useState(true);\n    const setOver = useGlobal('over')[1];\n    const {id} = useParams();\n\n    const history = useHistory();\n    const dispatch = useDispatch();\n\n    const back = () => {\n        setOver(false);\n        history.replace('/');\n    }\n\n    useEffect(() => {\n        setLoading(true);\n        getRoom(id).then(res => {\n            dispatch({type: Actions.SET_ROOM, room: res.data.room});\n            console.log(res.data)\n            dispatch({type: Actions.SET_MESSAGES, messages: res.data.room.messages});\n            setLoading(false);\n            setError(false);\n            dispatch({type: Actions.MESSAGES_REMOVE_ROOM_UNREAD, roomID: id});\n        }).catch(err => {\n            dispatch({type: Actions.SET_ROOM, room: null});\n            dispatch({type: Actions.SET_MESSAGES, messages: []});\n            setLoading(false);\n            if (!err.response || err.response.status !== 404) setError(true);\n        });\n    }, [setLoading, id]);\n\n    const Loading = () => (\n        <div className=\"content uk-flex uk-flex-center uk-flex-middle uk-flex-column\">\n            <ClipLoader\n                size={60}\n                color={\"#666\"}\n                loading={loading}\n            />\n        </div>\n    );\n\n    const NotFound = () => (\n        <div className=\"content uk-flex uk-flex-center uk-flex-middle uk-flex-column\">\n            <div className=\"notfound\">Room Not Found</div>\n            <div className=\"notfound-extended\">\n                This room does not exist.<br/>\n                This is probably a broken URL.\n            </div>\n        </div>\n    );\n\n    const Error = () => (\n        <div className=\"content uk-flex uk-flex-center uk-flex-middle uk-flex-column\">\n            <div className=\"notfound\">Network Error</div>\n            <div className=\"notfound-extended\">\n                Could not reach server.\n            </div>\n        </div>\n    );\n\n    const Content = () => (\n        <Messages/>\n    );\n\n    return (\n        <div className=\"content uk-flex uk-flex-column uk-flex-between\">\n            <TopBar back={back} loading={loading} />\n            {loading && <Loading/>}\n            {error && <Error/>}\n            {!room && !loading && !error && <NotFound/>}\n            {room && !loading && <Content/>}\n            <BottomBar/>\n        </div>\n    );\n}\n\nexport default Conversation;\n","import React, {useEffect, useRef, useState} from 'react';\nimport \"./Join.sass\";\nimport {FiVideo, FiMic, FiVideoOff, FiMicOff} from \"react-icons/fi\";\nimport {useGlobal} from \"reactn\";\nimport logo from \"../../../assets/logo.png\";\n\nconst Join = ({onJoin}) => {\n    const [isAudio, setAudio] = useGlobal('audio');\n    const [isVideo, setVideo] = useGlobal('video');\n    const [audio, setAudioStream] = useGlobal('audioStream');\n    const [video, setVideoStream] = useGlobal('videoStream');\n    const localVideoRef = useRef(null);\n\n    const getAudio = () => navigator.mediaDevices.getUserMedia({audio: true}).then(stream => {\n        setAudioStream(stream);\n    });\n    const getVideo = () => navigator.mediaDevices.getUserMedia({video: true}).then(stream => {\n        setVideoStream(stream);\n        localVideoRef.current.srcObject = stream;\n    });\n\n    useEffect(() => {\n        if (isVideo) getVideo();\n        if (isAudio) getAudio();\n    }, []);\n\n    const onChangeAudio = e => {\n        if (e.target.checked) getAudio();\n        else audio.getTracks().forEach(track => track.stop());\n        setAudio(e.target.checked);\n    }\n\n    const onChangeVideo = e => {\n        if (e.target.checked) getVideo();\n        else video.getTracks().forEach(track => track.stop());\n        setVideo(e.target.checked);\n    }\n\n    return (\n        <div className=\"join uk-flex uk-flex-middle uk-flex-center uk-flex-column\">\n            <img className=\"logo-little\" src={logo} alt=\"Logo\"/>\n            <p className=\"title\">Join Meeting</p>\n            <p hidden={isVideo || isAudio}>Join as spectator.</p>\n            <video hidden={!isVideo} className=\"local-video\" ref={localVideoRef} onLoadedMetadata={() => localVideoRef.current.play()} playsInline />\n            <p hidden={!isAudio} style={{marginTop: isVideo ? 0 : 20}}>Speak to test audio.</p>\n            <div className=\"uk-flex\">\n                <div className=\"controls\">\n                    {isAudio ? <FiMic className=\"icon\" /> : <FiMicOff className=\"icon\" />}\n                    <label className=\"switch\">\n                        <input type=\"checkbox\" checked={isAudio} onChange={onChangeAudio} />\n                        <span className=\"slider round\"/>\n                    </label>\n                </div>\n                <div className=\"controls\">\n                    <label className=\"switch\">\n                        <input type=\"checkbox\" checked={isVideo} onChange={onChangeVideo} />\n                        <span className=\"slider round\"/>\n                    </label>\n                    {isVideo ? <FiVideo className=\"icon\" /> : <FiVideoOff className=\"icon\" />}\n                </div>\n            </div>\n            <button className=\"button uk-button uk-button-primary\" onClick={onJoin}>Join</button>\n        </div>\n    );\n}\n\nexport default Join;\n","import React, {useState} from 'react';\nimport \"./User.sass\";\nimport {FiPlusCircle, FiPhoneCall} from 'react-icons/fi';\nimport Picture from \"../../../components/Picture\";\n\nconst User = ({user, selected, onSelect}) => {\n    const [hover, setHover] = useState(false);\n\n    const title = `${user.firstName} ${user.lastName}`.substr(0, 22);\n\n    return (\n        <div className=\"room uk-flex\" onMouseOver={() => setHover(true)} onMouseOut={() => setHover(false)} onClick={onSelect}>\n            <div className=\"profile\">\n                <Picture user={user} />\n            </div>\n            <div className=\"text\">\n                <div className=\"title\">{title}{title.length > 22 && '...'}</div>\n            </div>\n            <div className=\"controls\">\n                <div className={`date${selected ? ' selected' : ''}`}>@{user.username}</div>\n            </div>\n            <div className=\"controls\">\n                <div className={`button${selected ? ' selected' : ''}`}>\n                    {selected ? <FiPhoneCall/> : <FiPlusCircle/>}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default User;\n","import axios from \"axios\";\nimport Config from \"../config\";\n\nconst postAdd = ({userID, meetingID}) => {\n    return axios({\n        method: \"post\",\n        url: (Config.url || '') + \"/api/meeting/add\",\n        data: { userID, meetingID }\n    });\n};\n\nexport default postAdd;\n","import React, {useEffect, useRef, useState} from 'react';\nimport \"./AddPeers.sass\";\nimport {FiVideo, FiMic, FiVideoOff, FiX, FiSearch} from \"react-icons/fi\";\nimport {useGlobal} from \"reactn\";\nimport logo from \"../../../assets/logo.png\";\nimport search from \"../../../actions/search\";\nimport User from \"./User\";\nimport {useDispatch} from \"react-redux\";\nimport {useHistory, useParams} from \"react-router-dom\";\nimport Actions from \"../../../constants/Actions\";\nimport getMeetingRoom from \"../../../actions/getMeetingRoom\";\nimport postAdd from \"../../../actions/postAdd\";\nimport {useToasts} from \"react-toast-notifications\";\n\nconst AddPeers = ({onClose}) => {\n    const searchInput = useRef();\n    const [searchResults, setSearchResults] = useGlobal('searchResults');\n    const [searchText, setSearch] = useGlobal('search');\n    const [meeting, setMeeting] = useGlobal('meeting');\n    const [selected, setSelected] = useState([]);\n\n    const {addToast} = useToasts();\n    const params = useParams();\n    const roomID = params.id;\n\n    const onChange = e => {\n        setSearch(e.target.value);\n        search(e.target.value).then(res => setSearchResults(res.data.users)).catch(err => console.log(err));\n    };\n\n    const errorToast = content => {\n        addToast(content, {\n            appearance: 'error',\n            autoDismiss: true,\n        })\n    };\n\n    const call = async user => {\n        setSelected([...selected, user._id]);\n        console.warn(roomID)\n        try {\n            await postAdd({userID: user._id, meetingID: roomID});\n        }\n        catch (e) {\n            errorToast('Server error. Unable to initiate call.');\n        }\n    };\n\n    const searchResultsList = searchResults.map(user => (\n            <User\n                key={user._id}\n                user={user}\n                onSelect={() => !selected.includes(user._id) && call(user)}\n                selected={selected.includes(user._id)}\n            />\n        ));\n\n    const Notice = ({text}) => <div className=\"notice\">{text}</div>\n\n    return (\n        <div className=\"add-peers-overlay\">\n            <div className=\"box\">\n                <div className=\"top-controls\">\n                    <div className=\"title\">\n                        Add Peers\n                    </div>\n                    <div className=\"close\" onClick={onClose}>\n                        <FiX/>\n                    </div>\n                </div>\n                <div className=\"search-bar uk-flex uk-flex-center uk-flex-middle\">\n                    <div className=\"icon\" onClick={() => searchInput.current.focus()}>\n                        <FiSearch/>\n                    </div>\n                    <div className=\"uk-inline search\">\n                        <input className=\"uk-input uk-border-pill\" placeholder=\"Search\" ref={searchInput} onChange={onChange}/>\n                    </div>\n                </div>\n                <div className=\"users\">\n                    {searchResultsList}\n                    {searchResults.length === 0 && <Notice text={`There are no search results for \"${searchText}\"`} />}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default AddPeers;\n","import axios from \"axios\";\nimport Config from \"../config\";\n\nconst postClose = ({meetingID, userID}) => {\n    return axios({\n        method: \"post\",\n        url: (Config.url || '') + \"/api/meeting/close\",\n        data: { meetingID, userID }\n    });\n};\n\nexport default postClose;\n","import axios from \"axios\";\nimport Config from \"../config\";\n\nconst postAnswer = ({userID, meetingID, answer}) => {\n    return axios({\n        method: \"post\",\n        url: (Config.url || '') + \"/api/meeting/answer\",\n        data: { userID, meetingID, answer }\n    });\n};\n\nexport default postAnswer;\n","import React, {useEffect, useRef, useState} from 'react';\nimport \"./Ringing.sass\";\nimport {FiVideo, FiPhone, FiPhoneOff, FiMicOff, FiEdit2} from \"react-icons/fi\";\nimport {useGlobal} from \"reactn\";\nimport logo from \"../../../assets/logo.png\";\nimport {useHistory} from \"react-router-dom\";\nimport postClose from \"../../../actions/postClose\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport postAnswer from \"../../../actions/postAnswer\";\nimport Config from \"../../../config\";\nimport ringSound from \"../../../assets/ring.mp3\";\nimport {useToasts} from \"react-toast-notifications\";\nimport Actions from \"../../../constants/Actions\";\n\nconst Ringing = ({onJoin, incoming, meetingID}) => {\n    const counterpart = useSelector(state => state.rtc.counterpart) || {};\n    const [isAudio, setAudio] = useGlobal('audio');\n    const [isVideo, setVideo] = useGlobal('video');\n    const [audioStream, setAudioStream] = useGlobal('audioStream');\n    const [videoStream, setVideoStream] = useGlobal('videoStream');\n    const [accepted, setAccepted] = useGlobal('accepted');\n    const callData = useSelector(state => state.rtc.callData) || {};\n    const [acquireError, setAcquireError] = useState(false);\n    const closingState = useSelector(state => state.rtc.closingState);\n    const closed = useSelector(state => state.rtc.closed);\n\n    const history = useHistory();\n    const {addToast} = useToasts();\n    const dispatch = useDispatch();\n\n    const errorToast = content => {\n        addToast(content, {\n            appearance: 'error',\n            autoDismiss: true,\n        })\n    };\n\n    const getAudio = async () => {\n        setAcquireError(false);\n        try {\n            const stream = await navigator.mediaDevices.getUserMedia({audio: true});\n            await setAudioStream(stream);\n        }\n        catch (e) {\n            setAcquireError(true);\n            errorToast(\"Failed to acquire audio!\");\n        }\n    }\n    const getVideo = async () => {\n        setAcquireError(false);\n        try {\n            const stream = await navigator.mediaDevices.getUserMedia({video: true});\n            await setVideoStream(stream);\n        }\n        catch (e) {\n            setAcquireError(true);\n            errorToast(\"Failed to acquire audio!\");\n        }\n    }\n\n    useEffect(() => {\n        if (isAudio) getAudio();\n        if (isVideo) getVideo();\n\n        const audio = document.createElement('audio');\n        audio.style.display = \"none\";\n        audio.src = ringSound;\n        audio.autoplay = true;\n        audio.loop = true;\n\n        return () => {\n            if (audio) {\n                audio.pause();\n                audio.remove();\n            }\n        };\n    }, []);\n\n    const close = (closingState) => {\n        if (isVideo && videoStream) videoStream.getVideoTracks()[0].stop();\n        if (isAudio && audioStream) audioStream.getAudioTracks()[0].stop();\n        dispatch({type: Actions.RTC_LEAVE});\n        if (closingState) postClose({meetingID, userID: counterpart._id})\n        history.replace('/');\n\n        console.log('close action ringing')\n    };\n\n    useEffect(() => {\n        if (closingState && !closed) close(true);\n    }, [closingState, closed]);\n\n    const join = async () => {\n        await setAudio(true);\n        await setVideo(false);\n        await getAudio();\n        if (acquireError) return;\n        setAccepted(true);\n        postAnswer({userID: callData.caller, meetingID});\n    };\n\n    const joinWithVideo = async () => {\n        await setAudio(true);\n        await setVideo(true);\n        await getVideo();\n        if (acquireError) return;\n        await getAudio();\n        if (acquireError) return;\n        setAccepted(true);\n        postAnswer({userID: callData.caller, meetingID});\n    };\n\n    const Picture = () => {\n        if (!counterpart.firstName) counterpart.firstName = 'Anonymous';\n        if (!counterpart.lastName) counterpart.lastName = 'User';\n        if (counterpart.picture)\n            return <img src={`${Config.url || ''}/api/images/${counterpart.picture.shieldedID}/256`} alt=\"Picture\" className=\"picture\"/>;\n        else\n            return (\n                <div className=\"img-wrapper\">\n                    <div className=\"img\">{counterpart.firstName.substr(0,1)}{counterpart.lastName.substr(0,1)}</div>\n                </div>\n            );\n    };\n\n    const getTitle = () => {\n        if (incoming) {\n            if (callData.added) return 'Adding you to a meeting';\n            else return 'Incoming Call';\n        }\n        else {\n            return 'Outgoing Call';\n        }\n    };\n\n    return (\n        <div className=\"join uk-flex uk-flex-middle uk-flex-center uk-flex-column\">\n            <img className=\"logo-little\" src={logo} alt=\"Logo\"/>\n            <p className=\"title\">{getTitle()}</p>\n            <p className=\"name\">Delta Honey</p>\n            <div className=\"picture uk-margin-small\">\n                <Picture/>\n            </div>\n            <div className=\"uk-flex\" hidden={!incoming}>\n                <div className=\"rounded-button close\" onClick={close}><FiPhoneOff className=\"button-icon\" /></div>\n                <div className=\"rounded-button\" onClick={join}><FiPhone className=\"button-icon\" /></div>\n                <div className=\"rounded-button\" onClick={joinWithVideo}><FiVideo className=\"button-icon\" /></div>\n            </div>\n            <div className=\"uk-flex\" hidden={incoming}>\n                <div className=\"rounded-button close\" onClick={close}><FiPhoneOff className=\"button-icon\" /></div>\n            </div>\n        </div>\n    );\n}\n\nexport default Ringing;\n","import React, {useEffect, useRef, useState} from 'react';\nimport \"./Interface.sass\";\nimport Picture from \"../../../components/Picture\";\n\nconst Interface = ({audio, video, peer, isMaximized, isScreen}) => {\n    const audioRef = useRef(null);\n    const videoRef = useRef(null);\n\n    useEffect(() => {\n        if (!audio) return;\n        if (audio) audioRef.current.srcObject = audio;\n    }, [audio]);\n\n    useEffect(() => {\n        if (!video) return;\n        if (video) videoRef.current.srcObject = video;\n    }, [video]);\n\n    return (\n        <div className=\"interface uk-flex uk-flex-middle uk-flex-center uk-flex-column uk-height-1-1\">\n            {audio &&\n                <audio\n                    ref={audioRef}\n                    onLoadedMetadata={() => audioRef.current.play()}\n                    className=\"remote-audio\"\n                    playsInline\n                    controls={false}\n                    hidden={true}\n                    data-user={peer}\n                />\n            }\n            {video &&\n                <video\n                    ref={videoRef}\n                    onLoadedMetadata={() => videoRef.current.play()}\n                    className=\"remote-video\"\n                    playsInline\n                    controls={false}\n                    hidden={false}\n                    data-user={peer}\n                    style={{objectFit: (!isMaximized || isScreen) ? 'contain' : 'cover'}}\n                />\n            }\n            {(!video) &&\n                <div className=\"remote-peer\">\n                    <div className=\"name\">{peer.firstName} {peer.lastName}</div>\n                    <Picture user={peer} />\n                    <div className=\"status\">{(!video && !audio) ? 'Spectator' : 'Audio Only'}</div>\n                </div>\n            }\n        </div>\n    );\n}\n\nexport default Interface;\n","import React, {useEffect, useRef, useState} from 'react';\nimport \"./Streams.sass\";\nimport {useSelector} from \"react-redux\";\nimport Interface from \"./Interface\";\nimport {useGlobal} from \"reactn\";\n\nconst Streams = ({streams, children, isMaximized, isGrid}) => {\n    const consumers = useSelector(state => state.rtc.consumers);\n    const producers = useSelector(state => state.rtc.producers);\n    const peers = useSelector(state => state.rtc.peers);\n    const socketID = useSelector(state => state.io.id);\n    const [mainStream, setMainStream] = useGlobal('mainStream');\n\n    const actualConsumers = consumers.filter(c => c !== socketID);\n    let actualPeers = [];\n    actualConsumers.forEach(consumerID => {\n        let actualPeer = {...peers[consumerID], video: null, audio: null, screen: null};\n        let peerStreams = streams.filter(s => s.socketID === consumerID);\n        peerStreams.forEach(stream => {\n            actualPeer.streams = [...(actualPeer.streams || []), stream];\n            if (stream.isVideo) return actualPeer.video = stream;\n            actualPeer.audio = stream;\n        });\n        let isScreen = (actualPeer.video || actualPeer.screen) && (producers.filter(p => (p.producerID === actualPeer.video.producerID && p.isScreen)).length > 0)\n        actualPeers.push({...actualPeer, isScreen});\n    });\n\n    if (!isGrid && !mainStream && actualPeers.length > 0) {\n        setMainStream(actualPeers[actualPeers.length - 1]);\n    }\n\n    if (!isGrid && mainStream && actualPeers.length > 0) {\n        let mainPeer = mainStream;\n        actualPeers.forEach(peer => peer.socketID === mainPeer && (mainPeer = peer));\n        return (\n            <div className=\"streams uk-flex uk-flex-middle uk-flex-center uk-flex-column\">\n                <div className=\"video-container\">\n                    <div className=\"video-row\">\n                        <div className=\"video-wrapper\">\n                            <Interface isMaximized={isMaximized} video={mainPeer.video} audio={mainPeer.audio} peer={mainPeer.user} isScreen={mainPeer.isScreen} />\n                        </div>\n                    </div>\n                </div>\n                {children}\n            </div>\n        );\n    }\n\n    let side = Math.ceil(Math.sqrt(actualPeers.length));\n\n    let rows = [];\n    let row = [];\n\n    actualPeers.forEach((peer, key) => {\n        if (row.length === side) {\n            rows.push(\n                <div className=\"video-row\" key={key}>\n                    {row}\n                </div>\n            );\n            row = [];\n        }\n        console.log('peer', peer);\n        if (peer.video) {\n            console.log('video', peer.video.getVideoTracks()[0])\n        }\n        row.push(\n            <div className=\"video-wrapper\" key={key}>\n                <Interface isMaximized={isMaximized} video={peer.video} audio={peer.audio} peer={peer.user} isScreen={peer.isScreen} />\n            </div>\n        );\n    });\n\n    if (row.length > 0) {\n        rows.push(\n            <div className=\"video-row\" key={'last'}>\n                {row}\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"streams uk-flex uk-flex-middle uk-flex-center uk-flex-column\">\n            {actualPeers.length === 0 && <p className=\"waiting\">Waiting for others to join...</p>}\n            {actualPeers.length > 0 &&\n            <div className=\"video-container\">\n                {rows}\n            </div>\n            }\n            {children}\n        </div>\n    );\n}\n\nexport default Streams;\n","import React, {useEffect, useRef, useState} from 'react';\nimport \"./LittleInterface.sass\";\nimport Picture from \"../../../components/Picture\";\n\nconst Interface = ({audio, video, peer, isMaximized}) => {\n    const audioRef = useRef(null);\n    const videoRef = useRef(null);\n\n    useEffect(() => {\n        if (!audio) return;\n        if (audio) audioRef.current.srcObject = audio;\n    }, [audio]);\n\n    useEffect(() => {\n        if (!video) return;\n        if (video) videoRef.current.srcObject = video;\n    }, [video]);\n\n    return (\n        <div className=\"little-interface uk-flex uk-flex-middle uk-flex-center uk-flex-column uk-height-1-1\">\n            {audio &&\n                <audio\n                    ref={audioRef}\n                    onLoadedMetadata={() => audioRef.current.play()}\n                    className=\"remote-audio\"\n                    playsInline\n                    controls={false}\n                    hidden={true}\n                    data-user={peer}\n                />\n            }\n            {video &&\n                <video\n                    ref={videoRef}\n                    onLoadedMetadata={() => videoRef.current.play()}\n                    className=\"remote-video\"\n                    playsInline\n                    controls={false}\n                    hidden={false}\n                    data-user={peer}\n                    style={{objectFit: isMaximized ? 'cover' : 'contain'}}\n                />\n            }\n            {(!video) &&\n                <div className=\"remote-peer\">\n                    <div className=\"name\">{peer.firstName} {peer.lastName}</div>\n                    <Picture user={peer} />\n                    <div className=\"status\">{(!video && !audio) ? 'Spectator' : 'Audio Only'}</div>\n                </div>\n            }\n        </div>\n    );\n}\n\nexport default Interface;\n","import React, {useEffect, useRef, useState} from 'react';\nimport \"./LittleStreams.sass\";\nimport {useSelector} from \"react-redux\";\nimport Interface from \"./LittleInterface\";\nimport {useGlobal} from \"reactn\";\n\nconst LittleStreams = ({streams}) => {\n    const consumers = useSelector(state => state.rtc.consumers);\n    const peers = useSelector(state => state.rtc.peers);\n    const socketID = useSelector(state => state.io.id);\n    const [mainStream, setMainStream] = useGlobal('mainStream');\n    const el = useRef(null);\n\n    useEffect(() => {\n        if (!el) return;\n        const scrollHorizontally = e => {\n            e = window.event || e;\n            const delta = Math.max(-1, Math.min(1, (e.wheelDelta || -e.detail)));\n            el.current.scrollLeft -= (delta*40); // Multiplied by 40\n            e.preventDefault();\n        };\n        if (el.current.addEventListener) {\n            // IE9, Chrome, Safari, Opera\n            el.current.addEventListener(\"mousewheel\", scrollHorizontally, false);\n            // Firefox\n            el.current.addEventListener(\"DOMMouseScroll\", scrollHorizontally, false);\n        }\n        return () => {\n            if (el.current.addEventListener) {\n                // IE9, Chrome, Safari, Opera\n                el.current.removeEventListener(\"mousewheel\", scrollHorizontally, false);\n                // Firefox\n                el.current.removeEventListener(\"DOMMouseScroll\", scrollHorizontally, false);\n            }\n        }\n    }, [el]);\n\n    const actualConsumers = consumers.filter(c => c !== socketID);\n    let actualPeers = [];\n    actualConsumers.forEach(consumerID => {\n        let actualPeer = {...peers[consumerID], video: null, audio: null, screen: null};\n        let peerStreams = streams.filter(s => s.socketID === consumerID);\n        peerStreams.forEach(stream => {\n            actualPeer.streams = [...(actualPeer.streams || []), stream];\n            if (stream.isVideo) return actualPeer.video = stream;\n            actualPeer.audio = stream;\n        });\n        actualPeers.push(actualPeer);\n    });\n\n    let videos = [];\n\n    actualPeers.forEach((peer, key) => {\n        videos.push(\n            <div className={`video${( mainStream && (mainStream.socketID === peer.socketID)) ? ' main-peer' : ''}`} key={key} onClick={() => setMainStream(peer)}>\n                <Interface isMaximized={true} video={peer.video} audio={peer.audio} peer={peer.user} />\n            </div>\n        );\n    });\n\n    return (\n        <div className=\"videos\" ref={el}>\n            {actualPeers.length > 0 && videos}\n        </div>\n    );\n}\n\nexport default LittleStreams;\n","import React from 'react';\nimport \"./TopBar.sass\";\nimport {FiArrowLeft, FiMoreHorizontal, FiExternalLink} from 'react-icons/fi';\nimport Config from \"../../../config\";\n\nconst TopBar = ({back}) => {\n    const aoneahsan = () => window.open(\"http://aoneahsan.website\", \"_blank\");\n    const zaionsSite = () => window.open(\"http://zaions.com\", \"_blank\");\n\n    return (\n            <div className=\"top-bar uk-flex uk-flex-between uk-flex-middle\">\n                <div className=\"nav\">\n                    <div className=\"button mobile\" onClick={back}>\n                        <FiArrowLeft/>\n                    </div>\n                </div>\n                <div className=\"nav\">\n                    {Config.demo && <div className=\"uk-inline\">\n                        <div className=\"button\" type=\"button\">\n                            <FiMoreHorizontal/>\n                        </div>\n                        <div data-uk-dropdown=\"mode: click; offset: 5; boundary: .top-bar; pos: bottom-right\">\n                            <div className=\"link\" onClick={aoneahsan}>Aoneahsan.website <div className=\"icon\"><FiExternalLink/></div></div>\n                            <div className=\"link\" onClick={zaionsSite}>Zaions.com <div className=\"icon\"><FiExternalLink/></div></div>\n                        </div>\n                    </div>}\n                </div>\n            </div>\n    );\n}\n\nexport default TopBar;\n","import React from 'react';\nimport \"./BottomBar.sass\";\nimport {useGlobal} from \"reactn\";\nimport Config from \"../../../config\";\n\nconst BottomBar = () => {\n    const version = useGlobal('version')[0];\n\n    return (\n            <div className=\"bottom-bar uk-flex uk-flex-between uk-flex-middle\">\n                <div className=\"profile\">\n\n                </div>\n                <div className=\"nav\">\n                    <div className=\"button\">\n                        {Config.appName}  - <a href=\"http://www.zaions.com\" target=\"_blank\">{Config.brand}</a>\n                    </div>\n                </div>\n            </div>\n    );\n}\n\nexport default BottomBar;\n","import React, {useState} from 'react';\nimport {useGlobal} from \"reactn\";\nimport Picture from \"../../components/Picture\";\nimport TopBar from \"./components/TopBar\";\nimport {Route, useHistory} from \"react-router-dom\";\nimport BottomBar from \"./components/BottomBar\";\n\nconst Welcome = () => {\n    const user = useGlobal('user')[0];\n    const setOver = useGlobal('over')[1];\n\n    const back = () => setOver(false);\n\n    return (\n        <div className=\"content uk-flex uk-flex-column\">\n            <TopBar back={back} />\n            <div className=\"content uk-flex uk-flex-center uk-flex-middle uk-flex-column\">\n                <div className=\"welcome uk-flex uk-flex-bottom\">\n                    {user.firstName} {user.lastName}\n                </div>\n                <div className=\"profile\">\n                    <Picture user={user}/>\n                </div>\n                <div className=\"tutorial uk-flex uk-flex-top uk-flex-column uk-flex-center uk-flex-middle\">\n                    Search for someone to start a conversation,<br/>\n                    Add contacts to your favorites to reach them faster\n                </div>\n            </div>\n            <BottomBar/>\n        </div>\n    );\n}\n\nexport default Welcome;\n","import React from 'react';\nimport \"./TopBar.sass\";\nimport {FiArrowLeft, FiMoreHorizontal, FiExternalLink} from 'react-icons/fi';\nimport Config from \"../../../config\";\n\nconst TopBar = ({back}) => {\n    const aoneahsan = () => window.open(\"http://aoneahsan.website\", \"_blank\");\n    const zaionsSite = () => window.open(\"http://zaions.com\", \"_blank\");\n\n    return (\n            <div className=\"top-bar uk-flex uk-flex-between uk-flex-middle\">\n                <div className=\"nav\">\n                    <div className=\"button mobile\" onClick={back}>\n                        <FiArrowLeft/>\n                    </div>\n                </div>\n                <div className=\"nav\">\n                    {Config.demo && <div className=\"uk-inline\">\n                        <div className=\"button\" type=\"button\">\n                            <FiMoreHorizontal/>\n                        </div>\n                        <div data-uk-dropdown=\"mode: click; offset: 5; boundary: .top-bar; pos: bottom-right\">\n                            <div className=\"link\" onClick={aoneahsan}>Aoneahsan.website <div className=\"icon\"><FiExternalLink/></div></div>\n                            <div className=\"link\" onClick={zaionsSite}>Zaions.com <div className=\"icon\"><FiExternalLink/></div></div>\n                        </div>\n                    </div>}\n                </div>\n            </div>\n    );\n}\n\nexport default TopBar;\n","import React from 'react';\nimport \"./BottomBar.sass\";\nimport placeholder from \"../../../assets/placeholder.jpg\";\nimport {FiMoreVertical, FiSettings} from 'react-icons/fi';\nimport {useGlobal} from \"reactn\";\nimport Config from \"../../../config\";\n\nconst BottomBar = () => {\n    const version = useGlobal('version')[0];\n\n    return (\n            <div className=\"bottom-bar uk-flex uk-flex-between uk-flex-middle\">\n                <div className=\"profile\">\n\n                </div>\n                <div className=\"nav\">\n                    <div className=\"button\">\n                        {Config.appName}  - <a href=\"http://www.zaions.com\" target=\"_blank\">{Config.brand}</a>\n                    </div>\n                </div>\n            </div>\n    );\n}\n\nexport default BottomBar;\n","import React from 'react';\nimport {useGlobal} from \"reactn\";\nimport TopBar from \"./components/TopBar\";\nimport BottomBar from \"./components/BottomBar\";\nimport \"./NotFound.sass\";\n\nconst NotFound = () => {\n    const user = useGlobal('user')[0];\n    const setOver = useGlobal('over')[1];\n\n    const back = () => setOver(false);\n\n    return (\n        <div className=\"content uk-flex uk-flex-column\">\n            <TopBar back={back} />\n            <div className=\"content uk-flex uk-flex-center uk-flex-middle uk-flex-column\">\n                <div className=\"notfound\">404</div>\n                <div className=\"notfound-extended\">\n                    This page does not exist.<br/>\n                    There is just an empty void here.\n                </div>\n            </div>\n            <BottomBar/>\n        </div>\n    );\n}\n\nexport default NotFound;\n","import React from 'react';\nimport \"./TopBar.sass\";\nimport placeholder from \"../../../assets/placeholder.jpg\";\nimport {FiMoreVertical, FiArrowLeft, FiMoreHorizontal, FiExternalLink} from 'react-icons/fi';\nimport {useGlobal} from \"reactn\";\n\nconst TopBar = ({back}) => {\n    const aoneahsan = () => window.open(\"http://aoneahsan.website\", \"_blank\");\n    const zaionsSite = () => window.open(\"http://zaions.com\", \"_blank\");\n\n    return (\n            <div className=\"top-bar uk-flex uk-flex-between uk-flex-middle\">\n                <div className=\"nav\">\n                    <div className=\"button mobile\" onClick={back}>\n                        <FiArrowLeft/>\n                    </div>\n                </div>\n                <div className=\"nav\">\n                    <div className=\"uk-inline\">\n                        <div className=\"button\" type=\"button\">\n                            <FiMoreHorizontal/>\n                        </div>\n                        <div data-uk-dropdown=\"mode: click; offset: 5; boundary: .top-bar\">\n                            <div className=\"link\" onClick={aoneahsan}>Aoneahsan.website <div className=\"icon\"><FiExternalLink/></div></div>\n                            <div className=\"link\" onClick={zaionsSite}>Zaions.com <div className=\"icon\"><FiExternalLink/></div></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n    );\n}\n\nexport default TopBar;\n","import React from 'react';\nimport \"./BottomBar.sass\";\nimport {useGlobal} from \"reactn\";\nimport Config from \"../../../config\";\n\nconst BottomBar = () => {\n    const version = useGlobal('version')[0];\n\n    return (\n            <div className=\"bottom-bar uk-flex uk-flex-between uk-flex-middle\">\n                <div className=\"profile\">\n\n                </div>\n                <div className=\"nav\">\n                    <div className=\"button\">\n                        {Config.appName}  - <a href=\"http://www.zaions.com\" target=\"_blank\">{Config.brand}</a>\n                    </div>\n                </div>\n            </div>\n    );\n}\n\nexport default BottomBar;\n","import React, {useEffect, useRef, useState} from 'react';\nimport \"./Popup.sass\";\nimport {FiVideo, FiMic, FiVideoOff, FiX, FiSearch} from \"react-icons/fi\";\nimport {useToasts} from \"react-toast-notifications\";\nimport {postCreate, postUpdate, postDelete} from \"../../../actions/admin\";\n\nconst Input = ({icon, placeholder, type, onChange, required, value}) => {\n    return (\n        <div className=\"uk-margin-small-top\">\n            <div className=\"uk-inline uk-width-1-1\">\n                    <span className=\"uk-form-icon uk-form-icon-flip\" data-uk-icon={`icon: ${icon}`}\n                          onChange={onChange}/>\n                <input className=\"uk-input uk-margin-remove\" required={required} placeholder={placeholder}\n                       value={value} type={type} onChange={onChange}/>\n            </div>\n        </div>\n    );\n};\n\nconst AddPeers = ({onClose, type, user}) => {\n    const {addToast} = useToasts();\n\n    const [firstName, setFirstName] = useState(user ? user.firstName : '');\n    const [lastName, setLastName] = useState(user ? user.lastName : '');\n    const [email, setEmail] = useState(user ? user.email : '');\n    const [username, setUsername] = useState(user ? user.username : '');\n    const [password, setPassword] = useState( '');\n    const [repeatPassword, setRepeatPassword] = useState('');\n    const [errors, setErrors] = useState(null);\n\n    const okToast = content => {\n        addToast(content, {\n            appearance: 'success',\n            autoDismiss: true,\n        })\n    };\n\n    const errorToast = content => {\n        addToast(content, {\n            appearance: 'error',\n            autoDismiss: true,\n        })\n    };\n\n    const getTitle = () => {\n        switch (type) {\n            case 'create':\n                return 'Create user';\n            case 'edit':\n                return 'Edit ' + user.username.substr(0, 16) + (user.username.length > 16 ? '...' : '');\n            default:\n                return 'Delete ' + user.username.substr(0, 16) + (user.username.length > 16 ? '...' : '');\n        }\n    };\n\n    const createUser = async e => {\n        e.preventDefault();\n        try {\n            await postCreate({username, email, password, repeatPassword, firstName, lastName});\n            okToast(`User ${username} has been created`);\n            onClose(true);\n        }\n        catch (e) {\n            if (e && e.response) setErrors(e.response.data);\n            errorToast('Failed to create user ' + username);\n        }\n    };\n\n    const updateUser = async e => {\n        e.preventDefault();\n        try {\n            await postUpdate({username, email, password, repeatPassword, firstName, lastName, user});\n            okToast(`User ${username} has been edited`);\n            onClose(true);\n        }\n        catch (e) {\n            if (e && e.response) setErrors(e.response.data);\n            errorToast('Failed to edit user ' + username);\n        }\n    };\n\n    const deleteUser = async (email, username) => {\n        try {\n            await postDelete({email, username});\n            okToast(`User ${username} has been deleted`);\n            onClose(true);\n        }\n        catch (e) {\n            errorToast('Failed to delete user ' + username);\n        }\n    };\n\n    return (\n        <div className=\"admin-overlay\">\n            <div className=\"box\">\n                <div className=\"top-controls\">\n                    <div className=\"title\">\n                        {getTitle()}\n                    </div>\n                    <div className=\"close\" onClick={onClose}>\n                        <FiX/>\n                    </div>\n                </div>\n\n                <div className=\"data-editor\" hidden={!['create', 'edit'].includes(type)}>\n                    <div className=\"uk-flex uk-flex-column uk-flex-center uk-flex-middle admin-delete\">\n                        <form className=\"uk-flex uk-flex-column uk-flex-center uk-flex-middle\"\n                              onSubmit={e => type === 'edit' ? updateUser(e) : createUser(e)}>\n                            <Input icon=\"user\" placeholder=\"Username\" type=\"text\" required={true} value={username}\n                                   onChange={e => setUsername(e.target.value)}/>\n                            {errors && errors.username &&\n                            <div className=\"admin-form-error\">{errors.username}</div>}\n                            <Input icon=\"mail\" placeholder=\"Email\" type=\"email\" required={true} value={email}\n                                   onChange={e => setEmail(e.target.value)}/>\n                            {errors && errors.email &&\n                            <div className=\"admin-form-error\">{errors.email}</div>}\n                            <Input icon=\"pencil\" placeholder=\"First Name\" type=\"text\" required={true}\n                                   value={firstName} onChange={e => setFirstName(e.target.value)}/>\n                            {errors && errors.firstName &&\n                            <div className=\"admin-form-error\">{errors.firstName}</div>}\n                            <Input icon=\"pencil\" placeholder=\"Last Name\" type=\"text\" required={true}\n                                   value={lastName} onChange={e => setLastName(e.target.value)}/>\n                            {errors && errors.lastName &&\n                            <div className=\"admin-form-error\">{errors.lastName}</div>}\n                            <Input icon=\"lock\" placeholder=\"Password\" type=\"password\" required={type === 'create'}\n                                   value={password} onChange={e => setPassword(e.target.value)}/>\n                            {errors && errors.password &&\n                            <div className=\"admin-form-error\">{errors.password}</div>}\n                            <Input icon=\"lock\" placeholder=\"Repeat Password\" type=\"password\"\n                                   required={type === 'create'} value={repeatPassword}\n                                   onChange={e => setRepeatPassword(e.target.value)}/>\n                            {errors && errors.repeatPassword &&\n                            <div className=\"admin-form-error\">{errors.repeatPassword}</div>}\n                            <button type=\"submit\" style={{marginBottom: 4}}\n                                    className=\"uk-button uk-button-honey uk-margin-top\">{type === 'edit' ? 'Update' : 'Create'} User\n                            </button>\n                            <button className=\"uk-button uk-button-secondary\"\n                                    onClick={onClose}>Cancel\n                            </button>\n                            {type === 'edit' &&\n                            <div className=\"uk-text-center notice\">Leave password blank if you don't want to change\n                                it.</div>}\n                        </form>\n                        <div className=\"padding\"/>\n                    </div>\n                </div>\n\n                <div className=\"data-editor\" hidden={type !== 'delete'}>\n                    <div className=\"uk-flex uk-flex-column uk-flex-center uk-flex-middle admin-delete\">\n                        <div className=\"uk-text-center\">Are you sure you want to delete user @{user && user.username}?</div>\n                        <button className=\"uk-button uk-button-honey uk-margin-top\" style={{marginBottom: 4}}\n                                onClick={() => deleteUser(user.email, user.username)}>Delete User\n                        </button>\n                        <button className=\"uk-button uk-button-secondary\"\n                                onClick={onClose}>Cancel\n                        </button>\n                        <div className=\"uk-text-center notice\">Messages sent by the user will not be deleted. A deleted\n                            user can not be recovered.\n                        </div>\n                        <div className=\"padding\"/>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    );\n}\n\nexport default AddPeers;\n","import axios from 'axios';\nimport Config from \"../config\";\n\nexport const postCreate = data => {\n    return axios({\n        method: \"post\",\n        url: (Config.url || '') + \"/api/register\",\n        data,\n    });\n};\n\nexport const postUpdate = data => {\n    return axios({\n        method: \"post\",\n        url: (Config.url || '') + \"/api/user/edit\",\n        data,\n    });\n};\n\nexport const postDelete = data => {\n    return axios({\n        method: \"post\",\n        url: (Config.url || '') + \"/api/user/delete\",\n        data,\n    });\n};\n","import React, {useEffect, useRef, useState} from 'react';\nimport {useGlobal} from \"reactn\";\nimport TopBar from \"./components/TopBar\";\nimport BottomBar from \"./components/BottomBar\";\nimport \"./Admin.sass\";\nimport search from \"../../actions/search\";\nimport DataTable from \"react-data-table-component\";\nimport {FiSearch} from \"react-icons/fi\";\nimport Popup from \"./components/Popup\";\n\nconst Admin = () => {\n    const setOver = useGlobal('over')[1];\n    const [users, setUsers] = useState([]);\n    const searchInput = useRef();\n    const [searchResults, setSearchResults] = useGlobal('searchResults');\n    const [searchText, setSearch] = useGlobal('search');\n    const [popup, setPopup] = useState(null);\n    const [user, setUser] = useState(null);\n\n    const onChange = e => {\n        setSearch(e.target.value);\n        search(e.target.value).then(res => setSearchResults(res.data.users)).catch(err => console.log(err));\n    };\n\n    useEffect(() => {\n        search(searchText || null, 10000).then(res => {\n            setUsers(res.data.users)\n        });\n    }, [searchText]);\n\n    const back = () => setOver(false);\n\n    const columns = [\n        {\n            name: \"First Name\",\n            selector: \"firstName\",\n            sortable: true,\n        },\n        {\n            name: \"Last Name\",\n            selector: \"lastName\",\n            sortable: true,\n        },\n        {\n            name: \"Email\",\n            selector: \"email\",\n            sortable: true,\n        },\n        {\n            name: \"Username\",\n            selector: \"username\",\n            sortable: true,\n        },\n        {\n            name: \"Actions\",\n            selector: \"actions\",\n            sortable: false,\n            cell: row => (\n                <div className=\"data-actions\">\n                    <a className=\"edit\" onClick={() => {\n                        setUser(row);\n                        setPopup('edit');\n                    }}>Edit</a>\n                    <span className=\"separator\">&nbsp;&nbsp;-&nbsp;&nbsp;</span>\n                    <a className=\"delete\" onClick={() => {\n                        setUser(row);\n                        setPopup('delete');\n                    }}>Delete</a>\n                </div>\n            ),\n        },\n    ];\n\n    let data = [];\n\n    users.forEach(user => data.push({id: user._id, firstName: user.firstName, lastName: user.lastName, email: user.email, username: user.username}));\n\n    return (\n        <div className=\"admin content uk-flex uk-flex-column\">\n            <TopBar back={back} />\n            <div className=\"search-bar uk-flex uk-flex-center uk-flex-middle\">\n                <div className=\"icon\" onClick={() => searchInput.current.focus()}>\n                    <FiSearch/>\n                </div>\n                <div className=\"uk-inline search\">\n                    <input className=\"uk-input uk-border-pill\" placeholder=\"Search\" ref={searchInput} onChange={onChange}/>\n                </div>\n            </div>\n            <div className=\"content uk-flex uk-flex-center uk-flex-middle uk-flex-column\">\n                <div className=\"data-table\" style={{background: '#fff'}}>\n                    <div className=\"data-create\">\n                        <button className=\"uk-margin-small uk-button uk-button-honey\" onClick={() => setPopup('create')}>Create</button>\n                    </div>\n                    <DataTable\n                        title=\"Admin - Users\"\n                        columns={columns}\n                        data={data}\n                        defaultSortField=\"title\"\n                        pagination={true}\n                        paginationPerPage={20}\n                    />\n                </div>\n            </div>\n            <BottomBar/>\n            {popup && <Popup onClose={shouldUpdate => {\n                if (shouldUpdate) search(searchText || null, 10000).then(res => {\n                    setUsers(res.data.users)\n                });\n                setPopup(null);\n            }} user={user} type={popup} />}\n        </div>\n    );\n}\n\nexport default Admin;\n","import React, {useEffect, useState} from 'react';\nimport Div100vh from 'react-div-100vh';\nimport CreateGroup from \"../../features/Group/Create\";\nimport CreateGroup2 from \"../../features/Group/Create2\";\nimport Panel from \"../../features/Panel\";\nimport Details from \"../../features/Details\";\nimport \"./Home.sass\";\nimport {useGlobal, getGlobal, setGlobal} from \"reactn\";\nimport Conversation from \"../../features/Conversation\";\nimport Meeting from \"../../features/Meeting\";\nimport Welcome from \"../../features/Welcome\";\nimport NotFound from \"../../features/NotFound\";\nimport {Route, Switch, useLocation} from \"react-router-dom\";\nimport {useSelector} from \"react-redux\";\nimport {useHistory} from \"react-router-dom\";\nimport Admin from \"../../features/Admin\";\n\nconst Home = () => {\n    const location = useLocation();\n\n    const [over, setOver] = useGlobal('over');\n    const showPanel = useGlobal('showPanel')[0];\n    const showDetails = useGlobal('showDetails')[0];\n    const panel = useGlobal('panel')[0];\n    const callIncrement = useSelector(state => state.rtc.callIncrement);\n    const callData = useSelector(state => state.rtc.callData);\n\n    const history = useHistory();\n\n    useEffect(() => {\n        if (!callData) return;\n        setGlobal({\n            audio: true,\n            video: false,\n            callDirection: 'incoming',\n            meeting: {_id: callData.meetingID},\n        }).then(() => {\n            history.replace('/meeting/' + callData.meetingID);\n        });\n    }, [callIncrement, callData])\n\n    useEffect(() => {\n        console.log(location.pathname)\n        if (location.pathname !== '/') setOver(true);\n    }, [location]);\n\n    const getPanel = () => {\n        switch (panel) {\n            case 'createGroup':\n                return <CreateGroup/>\n            case 'createGroup2':\n                return <CreateGroup2/>\n            default:\n                return <Panel/>\n        }\n    }\n\n    return (\n        <Div100vh>\n            <div className=\"app\">\n                {showPanel && getPanel()}\n                <div className={`main uk-flex uk-flex-column${over ? ' over' : ''}${over === false ? ' exit' : ''}`}>\n                    <Switch>\n                        <Route exact path=\"/\" component={Welcome} />\n                        <Route exact path=\"/admin\" component={Admin} />\n                        <Route exact path=\"/meeting/:id\" component={Meeting} />\n                        <Route exact path=\"/room/:id\" component={Conversation} />\n                        <Route exact path=\"/room/:id/info\" component={Details} />\n                        <Route path=\"/\" component={NotFound} /> {/* Comment this line when Electron build */}\n                        {/* <Route path=\"/\" component={Welcome} />  Uncomment this line when Electron build */}\n                    </Switch>\n                </div>\n                {!location.pathname.endsWith('/info') && (showDetails || !location.pathname.startsWith('/meeting')) && <Details/>}\n            </div>\n        </Div100vh>\n    );\n}\n\nexport default Home;\n","import React from 'react'\nimport { useGlobal } from 'reactn'\nimport Config from '../../../config'\n\nconst Credits = () => (\n  <span>\n    {' '}\n    -{' '}\n    <a\n      data-uk-tooltip='Special thanks and open source resources in use'\n      data-uk-toggle='target: .toggle-credits ;animation: uk-animation-fade'\n    >\n      Credits\n    </a>\n  </span>\n)\n\nconst Copyright = () => {\n  const version = useGlobal('version')[0]\n  return (\n    <div\n      id='copyright'\n      className='uk-position-bottom-center uk-position-small uk-visible@m uk-position-z-index'\n    >\n      <span className='uk-text-small uk-text-muted'>\n        © 2020 {Config.brand || 'Zaions'}\n      </span>\n    </div>\n  )\n}\n\nexport default Copyright\n","import React from 'react';\nimport logo from \"../../../assets/logo.png\";\n\nconst Logo = () => {\n  return (\n    <div className=\"uk-text-center uk-margin logo\">\n      <img src={logo} alt=\"Logo\"/>\n    </div>\n  );\n};\n\nexport default Logo;\n","import React from 'react';\n\nconst Input = ({icon, placeholder, type, onChange}) => {\n  return (\n    <div className=\"uk-margin-small\">\n      <div className=\"uk-inline uk-width-1-1\">\n        <span className=\"uk-form-icon uk-form-icon-flip\" data-uk-icon={`icon: ${icon}`} onChange={onChange} />\n        <input className={`uk-input uk-border-pill`} required placeholder={placeholder} type={type} onChange={onChange} />\n      </div>\n    </div>\n  );\n};\n\nexport default Input;\n","import axios from \"axios\";\nimport Config from \"../config\";\n\nconst login = (email, password) => {\n    return axios({\n        method: \"post\",\n        url: (Config.url || '') + \"/api/login\",\n        data: { email, password }\n    });\n};\n\nexport default login;\n","import axios from \"axios\";\nimport Config from \"../config\";\n\nconst register = data => {\n    return axios({\n        method: \"post\",\n        url: (Config.url || '') + \"/api/register\",\n        data\n    });\n};\n\nexport default register;\n","import axios from 'axios';\n\nconst setAuthToken = token => {\n    if (token) {\n        // Apply to every request\n        axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    }\n    else {\n        // Delete auth header\n        delete axios.defaults.headers.common['Authorization'];\n    }\n};\n\nexport default setAuthToken;\n","import Actions from \"../constants/Actions\";\n\nconst initialState = {\n    sheet: null,\n};\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case Actions.SET_EMOJI:\n            return {\n                ...state,\n                sheet: action.sheet,\n            };\n        default:\n            return state;\n    }\n};\n\nexport default reducer;\n","import Actions from \"../constants/Actions\";\n\nconst initialState = {\n    io: null,\n    room: null,\n    messages: [],\n    rooms: [],\n    id: null,\n    onlineUsers: [],\n    refreshMeetings: null,\n};\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case Actions.IO_INIT:\n            return {\n                ...state,\n                io: action.io,\n                id: action.io.id,\n            };\n        case Actions.SET_ROOMS:\n            return {\n                ...state,\n                rooms: action.rooms\n            };\n        case Actions.SET_ROOM:\n            return {\n                ...state,\n                room: action.room,\n            };\n        case Actions.SET_MESSAGES:\n            return {\n                ...state,\n                messages: action.messages,\n            };\n        case Actions.MORE_MESSAGES:\n            return {\n                ...state,\n                messages: [...action.messages, ...state.messages],\n            }\n        case Actions.MESSAGE:\n            return {\n                ...state,\n                messages: [...state.messages, action.message],\n            };\n        case Actions.ONLINE_USERS:\n            return {\n                ...state,\n                onlineUsers: action.data,\n            };\n        case Actions.REFRESH_MEETINGS:\n            return {\n                ...state,\n                refreshMeetings: action.timestamp,\n            };\n        default:\n            return state;\n    }\n};\n\nexport default reducer;\n","import Actions from \"../constants/Actions\";\n\nconst initialState = {\n    roomsWithNewMessages: [],\n    typing: null,\n};\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case Actions.SET_TYPING:\n            return {\n                ...state,\n                typing: action.typing,\n            };\n        case Actions.MESSAGES_ADD_ROOM_UNREAD:\n            return {\n                ...state,\n                roomsWithNewMessages: [...state.roomsWithNewMessages, action.roomID]\n            };\n        case Actions.MESSAGES_REMOVE_ROOM_UNREAD:\n            return {\n                ...state,\n                roomsWithNewMessages: state.roomsWithNewMessages.filter(r => r !== action.roomID),\n            };\n        default:\n            return state;\n    }\n};\n\nexport default reducer;\n","import Actions from \"../constants/Actions\";\nimport * as moment from \"moment\";\n\nconst initialState = {\n    producers: [],\n    lastLeave: null,\n    roomID: null,\n    consumers: [],\n    consumersTimestamp: null,\n    peers: {},\n    increment: 0,\n    callIncrement: 0,\n    callData: null,\n    answerIncrement: 0,\n    answerData: 0,\n    lastLeaveType: 'leave',\n    counterpart: null,\n    closingState: false,\n    closed: true,\n};\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case Actions.RTC_CLOSE:\n            return {\n                ...state,\n                closingState: !state.closed,\n            };\n        case Actions.RTC_PRODUCER:\n            return {\n                ...state,\n                producers: [...state.producers, action.data],\n                closed: false,\n            };\n        case Actions.RTC_PRODUCERS:\n            return {\n                ...state,\n                producers: [...state.producers, ...action.producers],\n                closed: false,\n            };\n        case Actions.RTC_RESET_PRODUCERS:\n            return {\n                ...state,\n                producers: [...action.producers],\n                lastLeave: action.producerID || action.socketID,\n                lastLeaveType: action.lastLeaveType || 'leave',\n                increment: state.increment + 1,\n            };\n        case Actions.RTC_ROOM_ID:\n            return {\n                ...state,\n                roomID: action.roomID,\n                closed: false,\n            };\n        case Actions.RTC_CONSUMERS:\n            if (state.consumersTimestamp && moment(state.consumersTimestamp).isAfter(moment(action.consumers.timestamp))) return state;\n            return {\n                ...state,\n                consumers: action.consumers.content,\n                peers: action.peers || state.peers,\n                consumersTimestamp: action.consumers.timestamp,\n                closed: false,\n            };\n        case Actions.RTC_NEW_PEER:\n            return {\n                ...state,\n                peers: {\n                    ...state.peers,\n                    [action.data.socketID]: action.data,\n                },\n                closed: false,\n            };\n        case Actions.RTC_CALL:\n            return {\n                ...state,\n                callIncrement: state.callIncrement + 1,\n                callData: action.data,\n                closed: false,\n                closingState: false,\n            };\n        case Actions.RTC_ANSWER:\n            return {\n                ...state,\n                answerIncrement: state.answerIncrement + 1,\n                answerData: action.data,\n                closed: false,\n                closingState: false,\n            };\n        case Actions.RTC_SET_COUNTERPART:\n            return {\n                ...state,\n                counterpart: action.counterpart,\n                closed: false,\n            };\n        case Actions.RTC_LEAVE:\n            return initialState;\n        default:\n            return state;\n    }\n};\n\nexport default reducer;\n","import {combineReducers} from \"redux\";\nimport emoji from './emoji';\nimport io from './io';\nimport messages from './messages';\nimport rtc from './rtc';\n\nexport default combineReducers({\n    emoji, io, messages, rtc,\n});\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\nconst middleware = window.__REDUX_DEVTOOLS_EXTENSION__ ?\n    compose(applyMiddleware(thunk), window.__REDUX_DEVTOOLS_EXTENSION__()) :\n    applyMiddleware(thunk);\n\n// Note: this API requires redux@>=3.1.0\nconst store = createStore(rootReducer, middleware);\n\nexport default store;\n","import jwtDecode from \"jwt-decode\";\nimport IO from \"socket.io-client\";\nimport Config from \"../config\";\nimport Actions from \"../constants/Actions\";\nimport store from \"../store\";\nimport getRooms from \"./getRooms\";\nimport messageSound from \"../assets/message.mp3\";\nimport {setGlobal} from \"reactn\";\nconst socketPromise = require('../lib/socket.io-promise').promise;\n\nconst initIO = token => dispatch => {\n    const user = jwtDecode(token);\n    let io = IO((Config.url || '') + '/');\n    io.request = socketPromise(io);\n\n    io.on('connect', () => {\n        io.emit('authenticate', {token});\n        console.log('IO connected');\n    });\n\n    io.on('authenticated', () => {\n        console.log('IO authenticated');\n        dispatch({type: Actions.IO_INIT, io});\n    });\n\n    io.on('message-in', data => {\n        const {room, message} = data;\n\n        const currentRoom = store.getState().io.room;\n\n        const audio = document.createElement('audio');\n        audio.style.display = \"none\";\n        audio.src = messageSound;\n        audio.autoplay = true;\n        audio.onended = () => audio.remove();\n        document.body.appendChild(audio);\n\n        if (!currentRoom || currentRoom._id !== room._id) {\n            store.dispatch({type: Actions.MESSAGES_ADD_ROOM_UNREAD, roomID: room._id});\n        }\n\n        if (!currentRoom) return;\n        if (currentRoom._id === room._id) store.dispatch({type: Actions.MESSAGE, message});\n\n        getRooms().then(res => store.dispatch({type: Actions.SET_ROOMS, rooms: res.data.rooms})).catch(err => console.log(err));\n    })\n\n    io.on('newProducer', data => {\n        console.log('newProducer', data)\n        if (data.socketID !== io.id) store.dispatch({type: Actions.RTC_PRODUCER, data})\n    });\n\n    io.on('leave', data => {\n        console.log('leave', data);\n        let producers = store.getState().rtc.producers;\n        producers = producers.filter(producer => producer.socketID !== data.socketID);\n        console.log('producers after leave', producers);\n        store.dispatch({type: Actions.RTC_RESET_PRODUCERS, producers, socketID: data.socketID})\n    });\n\n    io.on('consumers', data => {\n        console.log('consumers', data);\n        store.dispatch({type: Actions.RTC_CONSUMERS, consumers: data});\n    });\n\n    io.on('newPeer', data => {\n        console.log('newPeer', data);\n        store.dispatch({type: Actions.RTC_NEW_PEER, data});\n    });\n\n    io.on('call', data => {\n        console.log('call', data);\n        store.dispatch({type: Actions.RTC_SET_COUNTERPART, counterpart: data.counterpart});\n        store.dispatch({type: Actions.RTC_CALL, data});\n    });\n\n    io.on('close', data => {\n        console.log('close', data);\n        store.dispatch({type: Actions.RTC_CLOSE, data});\n    });\n\n    io.on('answer', data => {\n        console.log('answer', data);\n        store.dispatch({type: Actions.RTC_ANSWER, data});\n    });\n\n    io.on('remove', data => {\n        console.log('remove', data.producerID);\n        let producers = store.getState().rtc.producers;\n        producers = producers.filter(producer => producer.producerID !== data.producerID);\n        console.log('producers after remove', producers);\n        store.dispatch({type: Actions.RTC_RESET_PRODUCERS, producers, socketID: data.socketID, lastLeaveType: 'remove', producerID: data.producerID})\n    });\n\n    io.on('onlineUsers', data => {\n        store.dispatch({type: Actions.ONLINE_USERS, data});\n    });\n\n    io.on('refresh-meetings', data => {\n        store.dispatch({type: Actions.REFRESH_MEETINGS, timestamp: data.timestamp});\n    });\n\n    io.on('user-deleted', async () => {\n        localStorage.removeItem('token');\n        await setGlobal({\n            token: null,\n            user: {},\n        });\n    })\n\n    io.on('typing', data => {\n        if (store.getState().io.room && data.roomID === store.getState().io.room._id) {\n            if (data.isTyping) {\n                clearTimeout(window.typingTimeout)\n                window.typingTimeout = setTimeout(() => {\n                    dispatch({type: Actions.SET_TYPING, typing: false});\n                }, 10000);\n            }\n            else {\n                clearTimeout(window.typingTimeout);\n            }\n            dispatch({type: Actions.SET_TYPING, typing: data.isTyping});\n        }\n    })\n\n    io.on('disconnected', () => {\n\n    });\n\n    window.onbeforeunload = function() {\n        io.emit('leave', {socketID: io.id, roomID: store.getState().rtc.roomID});\n        return;\n    }\n};\n\nexport default initIO;\n","import React, {useEffect, useState} from 'react';\nimport {useGlobal} from 'reactn';\nimport Credits from \"./components/Credits\";\nimport Logo from \"./components/Logo\";\nimport Input from \"./components/Input\";\nimport './Login.sass';\nimport Div100vh from \"react-div-100vh\";\nimport Config from \"../../config\";\nimport login from \"../../actions/login\";\nimport register from \"../../actions/register\";\nimport {useHistory} from \"react-router-dom\";\nimport jwtDecode from \"jwt-decode\";\nimport setAuthToken from \"../../actions/setAuthToken\";\nimport {useDispatch} from \"react-redux\";\nimport initIO from \"../../actions/initIO\";\nimport {useToasts} from \"react-toast-notifications\";\n\nconst Login = () => {\n    const dispatch = useDispatch();\n    const {addToast} = useToasts();\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [keep, setKeep] = useState(true);\n    const [loginErrors, setLoginErrors] = useState({});\n\n    const [registerUsername, setRegisterUsername] = useState('');\n    const [registerEmail, setRegisterEmail] = useState('');\n    const [registerFirstName, setRegisterFirstName] = useState('');\n    const [registerLastName, setRegisterLastName] = useState('');\n    const [registerPassword, setRegisterPassword] = useState('');\n    const [registerRepeatPassword, setRegisterRepeatPassword] = useState('');\n    const [registerErrors, setRegisterErrors] = useState({});\n\n    const setToken = useGlobal('token')[1];\n    const setUser = useGlobal('user')[1];\n    const [entryPath, setEntryPath] = useGlobal('entryPath');\n\n    const history = useHistory();\n\n    useEffect(() => {\n        if (window.self !== window.top) {\n            addToast(<a href=\"#\" onClick={e =>{\n                e.preventDefault();\n                window.top.location.href = Config.url;\n            }}><b>Click here to remove the Envato frame or meetings will not work properly.</b></a>, {\n                appearance: 'warning',\n                autoDismiss: false,\n            });\n        }\n    }, []);\n\n    const onLogin = async e => {\n        e.preventDefault();\n        try {\n            const res = await login(email, password);\n            if (keep) localStorage.setItem('token', res.data.token);\n            if (keep) localStorage.setItem('user', JSON.stringify(jwtDecode(res.data.token)));\n            setLoginErrors({});\n            setAuthToken(res.data.token);\n            setUser(jwtDecode(res.data.token));\n            setToken(res.data.token);\n            dispatch(initIO(res.data.token));\n            history.replace(['/login', '/'].includes(entryPath) ? '/' : entryPath);\n            await setEntryPath(null);\n        }\n        catch (e) {\n            let errors = {};\n            if (!e.response || typeof e.response.data !== 'object') errors.generic = 'Could not connect to server.';\n            else errors = e.response.data;\n            setLoginErrors(errors);\n        }\n    };\n\n    const onRegister = async e => {\n        e.preventDefault();\n        try {\n            await register({\n                username: registerUsername,\n                email: registerEmail,\n                firstName: registerFirstName,\n                lastName: registerLastName,\n                password: registerPassword,\n                repeatPassword: registerRepeatPassword,\n            });\n            const res = await login(registerEmail, registerPassword);\n            setRegisterErrors({});\n            if (keep) localStorage.setItem('token', res.data.token);\n            setAuthToken(res.data.token);\n            setUser(jwtDecode(res.data.token));\n            setToken(res.data.token);\n            dispatch(initIO(res.data.token));\n        }\n        catch (e) {\n            let errors = {};\n            if (!e.response || typeof e.response.data !== 'object') errors.generic = 'Could not connect to server.';\n            else errors = e.response.data;\n            setRegisterErrors(errors);\n        }\n    };\n\n    const loginInfo = Object.keys(loginErrors).map(key => (\n        <div className=\"uk-text-center\" key={key}>\n            <span className=\"uk-text-danger\">{loginErrors[key]}</span>\n        </div>\n    ));\n\n    const registerInfo = Object.keys(registerErrors).map(key => (\n        <div className=\"uk-text-center\" key={key}>\n            <span className=\"uk-text-danger\">{registerErrors[key]}</span>\n        </div>\n    ));\n\n    return (\n        <Div100vh>\n            <div\n                className=\"login uk-cover-container uk-background-secondary uk-flex uk-flex-center uk-flex-middle uk-overflow-hidden uk-light\">\n                <div className=\"uk-position-cover uk-overlay-primary\"/>\n                <div className=\"login-scrollable uk-flex uk-flex-center uk-flex-middle uk-position-z-index\">\n\n                    <Credits/>\n\n                    <div className=\"login-inner uk-width-medium uk-padding-small\"\n                         data-uk-scrollspy=\"cls: uk-animation-fade\">\n\n                        <Logo/>\n\n                        <div className=\"toggle-credits\">\n\n                            <form className=\"toggle-class\" onSubmit={onLogin}>\n                                <fieldset className=\"uk-fieldset\">\n                                    {loginInfo}\n                                    <Input icon=\"user\" placeholder=\"Username (or email)\" type=\"text\"\n                                           onChange={e => setEmail(e.target.value)}/>\n                                    <Input icon=\"lock\" placeholder=\"Password\" type=\"password\"\n                                           onChange={e => setPassword(e.target.value)}/>\n                                    <div className=\"uk-margin-small\">\n                                        <label><input className=\"uk-checkbox\" type=\"checkbox\"\n                                                      onChange={e => setKeep(e.target.checked)} checked={keep} /> Keep me logged in</label>\n                                    </div>\n                                    <div className=\"uk-margin-bottom\">\n                                        <button type=\"submit\"\n                                                className=\"uk-button uk-button-primary uk-border-pill uk-width-1-1\">LOG IN\n                                        </button>\n                                    </div>\n                                </fieldset>\n                            </form>\n\n                            <form className=\"toggle-class\" onSubmit={onRegister} hidden>\n                                {registerInfo}\n                                <Input icon=\"user\" placeholder=\"Username\" type=\"text\"\n                                       onChange={e => setRegisterUsername(e.target.value)}/>\n                                <Input icon=\"mail\" placeholder=\"Email\" type=\"email\"\n                                       onChange={e => setRegisterEmail(e.target.value)}/>\n                                <Input icon=\"pencil\" placeholder=\"First Name\" type=\"text\"\n                                       onChange={e => setRegisterFirstName(e.target.value)}/>\n                                <Input icon=\"pencil\" placeholder=\"Last Name\" type=\"text\"\n                                       onChange={e => setRegisterLastName(e.target.value)}/>\n                                <Input icon=\"lock\" placeholder=\"Password\" type=\"password\"\n                                       onChange={e => setRegisterPassword(e.target.value)}/>\n                                <Input icon=\"lock\" placeholder=\"Repeat Password\" type=\"password\"\n                                       onChange={e => setRegisterRepeatPassword(e.target.value)}/>\n                                <div className=\"uk-margin-bottom\">\n                                    <button type=\"submit\"\n                                            className=\"uk-button uk-button-primary uk-border-pill uk-width-1-1\">REGISTER\n                                    </button>\n                                </div>\n                            </form>\n\n                            <form className=\"toggle-password\" hidden>\n                                <Input icon=\"mail\" placeholder=\"Email\" type=\"email\"/>\n                                <div className=\"uk-margin-bottom\">\n                                    <button type=\"submit\"\n                                            className=\"uk-button uk-button-primary uk-border-pill uk-width-1-1\">SEND CODE\n                                    </button>\n                                </div>\n                            </form>\n\n                            <div>\n                                <div className=\"uk-text-center\">\n                                    <a className=\"uk-link-reset uk-text-small toggle-class\"\n                                       data-uk-toggle=\"target: .toggle-class ;animation: uk-animation-fade\">Need an account?\n                                        Register now!</a>\n                                    <a className=\"uk-link-reset uk-text-small toggle-class\"\n                                       data-uk-toggle=\"target: .toggle-class ;animation: uk-animation-fade\" hidden><span\n                                        data-uk-icon=\"arrow-left\"/> Back to Login</a>\n                                </div>\n                            </div>\n\n                        </div>\n\n                        <form className=\"toggle-credits uk-text-center\" hidden>\n                            <span>Everyone has a sweet side<br/>Everything can taste like honey<br/></span>\n                            <br/>\n                            Special thanks to all of the people who believed that Chat Zaions was possible and who made it\n                            possible.<br/><br/>\n                            This Login / Register page uses <a href=\"https://github.com/zzseba78/Kick-Off\" target=\"_blank\"\n                                                               rel=\"noopener noreferrer\">Kick-Off</a> by zzseba78<br/><br/>\n                            The default background image is from <a href=\"https://picsum.photos/\" target=\"_blank\"\n                                                                    rel=\"noopener noreferrer\">Picsum Photos</a><br/><br/>\n                            A big thank you to all contributors to React, Redux, Socket.IO, Emoji Mart, Axios, SASS and Moment\n                        </form>\n\n                        <div>\n                            <div className=\"uk-margin-top uk-text-center\">\n                                <a className=\"uk-link-reset uk-text-small toggle-credits\"\n                                   data-uk-toggle=\"target: .toggle-credits ;animation: uk-animation-fade\" hidden><span\n                                    data-uk-icon=\"arrow-left\"/> Close Credits</a>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </Div100vh>\n    );\n}\n\nexport default Login;\n","import React, {useEffect} from 'react';\nimport {getGlobal, useGlobal} from 'reactn';\nimport {ToastProvider} from 'react-toast-notifications';\nimport './App.sass';\nimport {BrowserRouter as Router, Switch, Route, Redirect} from \"react-router-dom\";\nimport Home from './pages/Home';\nimport Login from './pages/Login';\nimport Config from './config';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport jwtDecode from 'jwt-decode';\nimport setAuthToken from \"./actions/setAuthToken\";\nimport initIO from \"./actions/initIO\";\nimport {setGlobal} from \"reactn\";\nimport {useToasts} from \"react-toast-notifications\";\n\nconst App = () => {\n    const dispatch = useDispatch();\n    const {addToast} = useToasts();\n    const io = useSelector(state => state.io.io);\n\n    const token = useGlobal('token')[0];\n    const setStartingPoint = useGlobal('entryPath')[1];\n\n    const toHome = token && <Redirect to=\"/\"/>;\n    const toLogin = !token && <Redirect to=\"/login\"/>;\n\n    if (!['dark', 'light'].includes(Config.theme)) Config.theme = 'light';\n\n    useEffect(() => {\n        if (!io || !getGlobal().user || !token) return;\n        let focusCount = 0;\n        let interval = setInterval(() => {\n            if (!document.hasFocus()) {\n                focusCount++;\n                if (focusCount === 10) {\n                    io.emit('status', {status: 'away'});\n                }\n            } else if (focusCount !== 0) {\n                focusCount = 0;\n                io.emit('status', {status: 'online'});\n            }\n        }, 1000);\n        return () => clearInterval(interval);\n    }, [io, token]);\n\n    useEffect(() => {\n        return () => {\n            try {\n                if (getGlobal().audioStream) getGlobal().audioStream.getTracks().forEach(track => track.stop());\n            } catch (e) {\n            }\n            try {\n                if (getGlobal().videoStream) getGlobal().videoStream.getTracks().forEach(track => track.stop());\n            } catch (e) {\n            }\n        }\n    }, []);\n\n    if (!window.loaded) {\n        setStartingPoint(window.location.pathname);\n        const splitPath = window.location.pathname.split('/');\n        const route = splitPath[1];\n        const token = splitPath[2];\n        if (route === 'login' && token && token.length > 20) {\n            let decoded;\n            try {\n                decoded = jwtDecode(token);\n                if (typeof decoded !== 'object' || typeof decoded.id !== 'string') return;\n                setAuthToken(token);\n                localStorage.setItem('token', token);\n                localStorage.setItem('user', JSON.stringify(decoded));\n                setGlobal({\n                    user: decoded,\n                    token,\n                }).then(() => {\n                    dispatch(initIO(token));\n                });\n            } catch (e) {\n                addToast(\"Invalid token provided in URL. You can still login manually.\", {\n                    appearance: 'error',\n                    autoDismiss: true,\n                });\n            }\n        }\n        window.loaded = true\n    }\n\n    return (\n        <div className={`theme ${Config.theme}`}>\n            <Router>\n                <Switch>\n                    <Route path=\"/login\">\n                        {toHome}\n                        {!toHome && <Login/>}\n                    </Route>\n                    <Route path=\"/\">\n                        {toLogin}\n                        {!toLogin && <Home/>}\n                    </Route>\n                </Switch>\n            </Router>\n        </div>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { setGlobal } from 'reactn';\nimport setAuthToken from \"./actions/setAuthToken\";\nimport initIO from \"./actions/initIO\";\nimport store from \"./store\";\nimport jwtDecode from 'jwt-decode';\nimport axios from \"axios\";\nimport Config from \"./config\";\n\nconst init = async () => {\n    document.addEventListener('gesturestart', e => {\n        e.preventDefault();\n    });\n\n    if (localStorage.getItem('app') !== 'Chat Zaions') {\n        localStorage.clear();\n        localStorage.setItem('app', 'Chat Zaions');\n    }\n\n    let token = localStorage.getItem('token');\n    let userString = localStorage.getItem('user');\n    let user = userString ? JSON.parse(userString) : null;\n\n    if (token) {\n        const decoded = jwtDecode(token);\n\n        let result;\n\n        try {\n            const res = await axios({\n                method: \"post\",\n                url: (Config.url || '') + \"/api/check-user\",\n                data: {id: decoded.id},\n            });\n            result = res.data;\n        } catch (e) {\n            result = null;\n        }\n\n        if (!result || result.error) {\n            localStorage.removeItem(\"token\");\n            localStorage.removeItem(\"user\");\n            token = localStorage.getItem('token');\n            userString = localStorage.getItem('user');\n            user = userString ? JSON.parse(userString) : null;\n        }\n    }\n\n    if (token) {\n        setAuthToken(token);\n        store.dispatch(initIO(token));\n    }\n\n    const state = {\n        version: '1.0.0',\n        entryPath: window.location.pathname,\n        token,\n        user: user || (token ? jwtDecode(token) : {}),\n        rooms: [],\n        searchResults: [],\n        favorites: [],\n        meetings: [],\n        nav: 'rooms',\n        search: '',\n        over: null,\n        isPicker: false,\n        messages: [],\n        streams: [],\n        inCall: false,\n        video: true,\n        audio: true,\n        audioStream: null,\n        videoStream: null,\n        screenStream: null,\n        callStatus: null,\n        counterpart: null,\n        callDirection: null,\n        meeting: null,\n        showPanel: true,\n        panel: 'standard',\n        newGroupUsers: [],\n    };\n\n    setGlobal(state).then(() => console.log('Global state init complete!', state));\n}\n\nexport default init;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport UIkit from 'uikit';\nimport Icons from 'uikit/dist/js/uikit-icons';\nimport init from \"./init\";\nimport { Provider } from 'react-redux'\nimport store from './store'\nimport {ToastProvider} from \"react-toast-notifications\";\n\ninit().then(() => {\n    // Loading UIkit Icons plugin.\n    UIkit.use(Icons);\n\n    ReactDOM.render(\n        <React.StrictMode>\n            <Provider store={store}>\n                <ToastProvider\n                    autoDismiss\n                    autoDismissTimeout={6000}\n                    placement=\"top-right\"\n                >\n                    <App />\n                </ToastProvider>\n            </Provider>\n        </React.StrictMode>,\n        document.getElementById('root')\n    );\n\n    // If you want your app to work offline and load faster, you can change\n    // unregister() to register() below. Note this comes with some pitfalls.\n    // Learn more about service workers: https://bit.ly/CRA-PWA\n    serviceWorker.unregister();\n});\n","module.exports = __webpack_public_path__ + \"static/media/logo.706acf1f.png\";","module.exports = __webpack_public_path__ + \"static/media/placeholder.fe38aaa3.jpg\";"],"sourceRoot":""}